{"version":3,"sources":["../../../src/test/matchers/matchers.ts"],"names":["toBeChecked","locator","options","toBeTruthy","call","timeout","isChecked","toBeDisabled","isDisabled","toBeEditable","isEditable","toBeEmpty","evaluate","element","nodeName","value","textContent","trim","toBeEnabled","isEnabled","toBeFocused","document","activeElement","toBeHidden","isHidden","toBeVisible","isVisible","toContainText","expected","toMatchText","useInnerText","innerText","matchSubstring","toHaveAttribute","name","getAttribute","toHaveClass","Array","isArray","toEqual","evaluateAll","ee","map","e","className","toHaveCount","count","toHaveCSS","window","getComputedStyle","toHaveId","toHaveJSProperty","toHaveText","toHaveTitle","page","title","toHaveURL","url","toHaveValue","inputValue"],"mappings":"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","sourcesContent":["/**\n * Copyright Microsoft Corporation. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Locator, Page } from '../../..';\nimport type { Expect } from '../types';\nimport { toBeTruthy } from './toBeTruthy';\nimport { toEqual } from './toEqual';\nimport { toMatchText } from './toMatchText';\n\nexport function toBeChecked(\n  this: ReturnType<Expect['getState']>,\n  locator: Locator,\n  options?: { timeout?: number },\n) {\n  return toBeTruthy.call(this, 'toBeChecked', locator, 'Locator', async timeout => {\n    return await locator.isChecked({ timeout });\n  }, options);\n}\n\nexport function toBeDisabled(\n  this: ReturnType<Expect['getState']>,\n  locator: Locator,\n  options?: { timeout?: number },\n) {\n  return toBeTruthy.call(this, 'toBeDisabled', locator, 'Locator', async timeout => {\n    return await locator.isDisabled({ timeout });\n  }, options);\n}\n\nexport function toBeEditable(\n  this: ReturnType<Expect['getState']>,\n  locator: Locator,\n  options?: { timeout?: number },\n) {\n  return toBeTruthy.call(this, 'toBeEditable', locator, 'Locator', async timeout => {\n    return await locator.isEditable({ timeout });\n  }, options);\n}\n\nexport function toBeEmpty(\n  this: ReturnType<Expect['getState']>,\n  locator: Locator,\n  options?: { timeout?: number },\n) {\n  return toBeTruthy.call(this, 'toBeEmpty', locator, 'Locator', async timeout => {\n    return await locator.evaluate(element => {\n      if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA')\n        return !(element as HTMLInputElement).value;\n      return !element.textContent?.trim();\n    }, { timeout });\n  }, options);\n}\n\nexport function toBeEnabled(\n  this: ReturnType<Expect['getState']>,\n  locator: Locator,\n  options?: { timeout?: number },\n) {\n  return toBeTruthy.call(this, 'toBeEnabled', locator, 'Locator', async timeout => {\n    return await locator.isEnabled({ timeout });\n  }, options);\n}\n\nexport function toBeFocused(\n  this: ReturnType<Expect['getState']>,\n  locator: Locator,\n  options?: { timeout?: number },\n) {\n  return toBeTruthy.call(this, 'toBeFocused', locator, 'Locator', async timeout => {\n    return await locator.evaluate(element => {\n      return document.activeElement === element;\n    }, { timeout });\n  }, options);\n}\n\nexport function toBeHidden(\n  this: ReturnType<Expect['getState']>,\n  locator: Locator,\n  options?: { timeout?: number },\n) {\n  return toBeTruthy.call(this, 'toBeHidden', locator, 'Locator', async timeout => {\n    return await locator.isHidden({ timeout });\n  }, options);\n}\n\nexport function toBeVisible(\n  this: ReturnType<Expect['getState']>,\n  locator: Locator,\n  options?: { timeout?: number },\n) {\n  return toBeTruthy.call(this, 'toBeVisible', locator, 'Locator', async timeout => {\n    return await locator.isVisible({ timeout });\n  }, options);\n}\n\nexport function toContainText(\n  this: ReturnType<Expect['getState']>,\n  locator: Locator,\n  expected: string,\n  options?: { timeout?: number, useInnerText?: boolean },\n) {\n  return toMatchText.call(this, 'toContainText', locator, 'Locator', async timeout => {\n    if (options?.useInnerText)\n      return await locator.innerText({ timeout });\n    return await locator.textContent() || '';\n  }, expected, { ...options, matchSubstring: true });\n}\n\nexport function toHaveAttribute(\n  this: ReturnType<Expect['getState']>,\n  locator: Locator,\n  name: string,\n  expected: string | RegExp,\n  options?: { timeout?: number },\n) {\n  return toMatchText.call(this, 'toHaveAttribute', locator, 'Locator', async timeout => {\n    return await locator.getAttribute(name, { timeout }) || '';\n  }, expected, options);\n}\n\nexport function toHaveClass(\n  this: ReturnType<Expect['getState']>,\n  locator: Locator,\n  expected: string | RegExp | string[],\n  options?: { timeout?: number },\n) {\n  if (Array.isArray(expected)) {\n    return toEqual.call(this, 'toHaveClass', locator, 'Locator', async () => {\n      return await locator.evaluateAll(ee => ee.map(e => e.className));\n    }, expected, options);\n  } else {\n    return toMatchText.call(this, 'toHaveClass', locator, 'Locator', async timeout => {\n      return await locator.evaluate(element => element.className, { timeout });\n    }, expected, options);\n  }\n}\n\nexport function toHaveCount(\n  this: ReturnType<Expect['getState']>,\n  locator: Locator,\n  expected: number,\n  options?: { timeout?: number },\n) {\n  return toEqual.call(this, 'toHaveCount', locator, 'Locator', async timeout => {\n    return await locator.count();\n  }, expected, options);\n}\n\nexport function toHaveCSS(\n  this: ReturnType<Expect['getState']>,\n  locator: Locator,\n  name: string,\n  expected: string | RegExp,\n  options?: { timeout?: number },\n) {\n  return toMatchText.call(this, 'toHaveCSS', locator, 'Locator', async timeout => {\n    return await locator.evaluate(async (element, name) => {\n      return (window.getComputedStyle(element) as any)[name];\n    }, name, { timeout });\n  }, expected, options);\n}\n\nexport function toHaveId(\n  this: ReturnType<Expect['getState']>,\n  locator: Locator,\n  expected: string | RegExp,\n  options?: { timeout?: number },\n) {\n  return toMatchText.call(this, 'toHaveId', locator, 'Locator', async timeout => {\n    return await locator.getAttribute('id', { timeout }) || '';\n  }, expected, options);\n}\n\nexport function toHaveJSProperty(\n  this: ReturnType<Expect['getState']>,\n  locator: Locator,\n  name: string,\n  expected: any,\n  options?: { timeout?: number },\n) {\n  return toEqual.call(this, 'toHaveJSProperty', locator, 'Locator', async timeout => {\n    return await locator.evaluate((element, name) => (element as any)[name], name, { timeout });\n  }, expected, options);\n}\n\nexport function toHaveText(\n  this: ReturnType<Expect['getState']>,\n  locator: Locator,\n  expected: string | RegExp | string[],\n  options?: { timeout?: number, useInnerText?: boolean },\n) {\n  if (Array.isArray(expected)) {\n    return toEqual.call(this, 'toHaveText', locator, 'Locator', async () => {\n      return locator.evaluateAll((ee, useInnerText) => {\n        return ee.map(e => useInnerText ? (e as HTMLElement).innerText : e.textContent || '');\n      }, options?.useInnerText);\n    }, expected, options);\n  } else {\n    return toMatchText.call(this, 'toHaveText', locator, 'Locator', async timeout => {\n      if (options?.useInnerText)\n        return await locator.innerText({ timeout });\n      return await locator.textContent() || '';\n    }, expected, options);\n  }\n}\n\nexport function toHaveTitle(\n  this: ReturnType<Expect['getState']>,\n  page: Page,\n  expected: string | RegExp,\n  options?: { timeout?: number },\n) {\n  return toMatchText.call(this, 'toHaveTitle', page, 'Page', async () => {\n    return await page.title();\n  }, expected, options);\n}\n\nexport function toHaveURL(\n  this: ReturnType<Expect['getState']>,\n  page: Page,\n  expected: string | RegExp,\n  options?: { timeout?: number },\n) {\n  return toMatchText.call(this, 'toHaveURL', page, 'Page', async () => {\n    return page.url();\n  }, expected, options);\n}\n\nexport function toHaveValue(\n  this: ReturnType<Expect['getState']>,\n  locator: Locator,\n  expected: string | RegExp,\n  options?: { timeout?: number },\n) {\n  return toMatchText.call(this, 'toHaveValue', locator, 'Locator', async timeout => {\n    return await locator.inputValue({ timeout });\n  }, expected, options);\n}\n"],"file":"matchers.js"}