{"version":3,"sources":["../../src/dispatchers/elementHandlerDispatcher.ts"],"names":["ElementHandleDispatcher","JSHandleDispatcher","from","scope","handle","fromNullable","undefined","fromJSHandle","result","asElement","constructor","elementHandle","_elementHandle","ownerFrame","params","metadata","frame","contentFrame","getAttribute","value","name","inputValue","textContent","innerText","innerHTML","isChecked","isDisabled","isEditable","isEnabled","isHidden","isVisible","dispatchEvent","type","eventInit","scrollIntoViewIfNeeded","hover","click","dblclick","tap","selectOption","elements","map","e","values","options","fill","selectText","setInputFiles","files","focus","text","press","key","check","uncheck","boundingBox","screenshot","binary","toString","querySelector","selector","element","_scope","querySelectorAll","evalOnSelector","evalOnSelectorAndWaitForSignals","strict","expression","isFunction","arg","evalOnSelectorAll","evalOnSelectorAllAndWaitForSignals","waitForElementState","state","waitForSelector"],"mappings":";;;;;;;AAmBA;;AACA;;AApBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAUO,MAAMA,uBAAN,SAAsCC,sCAAtC,CAAkG;AAG5F,SAAJC,IAAI,CAACC,KAAD,EAAyBC,MAAzB,EAAyE;AAClF,WAAO,oCAA4CA,MAA5C,KAAuD,IAAIJ,uBAAJ,CAA4BG,KAA5B,EAAmCC,MAAnC,CAA9D;AACD;;AAEkB,SAAZC,YAAY,CAACF,KAAD,EAAyBC,MAAzB,EAA4F;AAC7G,QAAI,CAACA,MAAL,EACE,OAAOE,SAAP;AACF,WAAO,oCAA4CF,MAA5C,KAAuD,IAAIJ,uBAAJ,CAA4BG,KAA5B,EAAmCC,MAAnC,CAA9D;AACD;;AAEkB,SAAZG,YAAY,CAACJ,KAAD,EAAyBC,MAAzB,EAAkE;AACnF,UAAMI,MAAM,GAAG,oCAAuCJ,MAAvC,CAAf;AACA,QAAII,MAAJ,EACE,OAAOA,MAAP;AACF,WAAOJ,MAAM,CAACK,SAAP,KAAqB,IAAIT,uBAAJ,CAA4BG,KAA5B,EAAmCC,MAAM,CAACK,SAAP,EAAnC,CAArB,GAA+E,IAAIR,sCAAJ,CAAuBE,KAAvB,EAA8BC,MAA9B,CAAtF;AACD;;AAEOM,EAAAA,WAAW,CAACP,KAAD,EAAyBQ,aAAzB,EAAuD;AACxE,UAAMR,KAAN,EAAaQ,aAAb;AADwE,SAnBjEC,cAmBiE;AAExE,SAAKA,cAAL,GAAsBD,aAAtB;AACD;;AAEe,QAAVE,UAAU,CAACC,MAAD,EAAiDC,QAAjD,EAA0H;AACxI,WAAO;AAAEC,MAAAA,KAAK,EAAE,0CAA0C,MAAM,KAAKJ,cAAL,CAAoBC,UAApB,EAAhD;AAAT,KAAP;AACD;;AAEiB,QAAZI,YAAY,CAACH,MAAD,EAAmDC,QAAnD,EAA8H;AAC9I,WAAO;AAAEC,MAAAA,KAAK,EAAE,0CAA0C,MAAM,KAAKJ,cAAL,CAAoBK,YAApB,EAAhD;AAAT,KAAP;AACD;;AAEiB,QAAZC,YAAY,CAACJ,MAAD,EAAmDC,QAAnD,EAA8H;AAC9I,UAAMI,KAAK,GAAG,MAAM,KAAKP,cAAL,CAAoBM,YAApB,CAAiCJ,MAAM,CAACM,IAAxC,CAApB;AACA,WAAO;AAAED,MAAAA,KAAK,EAAEA,KAAK,KAAK,IAAV,GAAiBb,SAAjB,GAA6Ba;AAAtC,KAAP;AACD;;AAEe,QAAVE,UAAU,CAACP,MAAD,EAAiDC,QAAjD,EAA0H;AACxI,UAAMI,KAAK,GAAG,MAAM,KAAKP,cAAL,CAAoBS,UAApB,EAApB;AACA,WAAO;AAAEF,MAAAA;AAAF,KAAP;AACD;;AAEgB,QAAXG,WAAW,CAACR,MAAD,EAAkDC,QAAlD,EAA4H;AAC3I,UAAMI,KAAK,GAAG,MAAM,KAAKP,cAAL,CAAoBU,WAApB,EAApB;AACA,WAAO;AAAEH,MAAAA,KAAK,EAAEA,KAAK,KAAK,IAAV,GAAiBb,SAAjB,GAA6Ba;AAAtC,KAAP;AACD;;AAEc,QAATI,SAAS,CAACT,MAAD,EAAgDC,QAAhD,EAAwH;AACrI,WAAO;AAAEI,MAAAA,KAAK,EAAE,MAAM,KAAKP,cAAL,CAAoBW,SAApB;AAAf,KAAP;AACD;;AAEc,QAATC,SAAS,CAACV,MAAD,EAAgDC,QAAhD,EAAwH;AACrI,WAAO;AAAEI,MAAAA,KAAK,EAAE,MAAM,KAAKP,cAAL,CAAoBY,SAApB;AAAf,KAAP;AACD;;AAEc,QAATC,SAAS,CAACX,MAAD,EAAgDC,QAAhD,EAAwH;AACrI,WAAO;AAAEI,MAAAA,KAAK,EAAE,MAAM,KAAKP,cAAL,CAAoBa,SAApB;AAAf,KAAP;AACD;;AAEe,QAAVC,UAAU,CAACZ,MAAD,EAAiDC,QAAjD,EAA0H;AACxI,WAAO;AAAEI,MAAAA,KAAK,EAAE,MAAM,KAAKP,cAAL,CAAoBc,UAApB;AAAf,KAAP;AACD;;AAEe,QAAVC,UAAU,CAACb,MAAD,EAAiDC,QAAjD,EAA0H;AACxI,WAAO;AAAEI,MAAAA,KAAK,EAAE,MAAM,KAAKP,cAAL,CAAoBe,UAApB;AAAf,KAAP;AACD;;AAEc,QAATC,SAAS,CAACd,MAAD,EAAgDC,QAAhD,EAAwH;AACrI,WAAO;AAAEI,MAAAA,KAAK,EAAE,MAAM,KAAKP,cAAL,CAAoBgB,SAApB;AAAf,KAAP;AACD;;AAEa,QAARC,QAAQ,CAACf,MAAD,EAA+CC,QAA/C,EAAsH;AAClI,WAAO;AAAEI,MAAAA,KAAK,EAAE,MAAM,KAAKP,cAAL,CAAoBiB,QAApB;AAAf,KAAP;AACD;;AAEc,QAATC,SAAS,CAAChB,MAAD,EAAgDC,QAAhD,EAAwH;AACrI,WAAO;AAAEI,MAAAA,KAAK,EAAE,MAAM,KAAKP,cAAL,CAAoBkB,SAApB;AAAf,KAAP;AACD;;AAEkB,QAAbC,aAAa,CAACjB,MAAD,EAAoDC,QAApD,EAA2F;AAC5G,UAAM,KAAKH,cAAL,CAAoBmB,aAApB,CAAkCjB,MAAM,CAACkB,IAAzC,EAA+C,uCAAclB,MAAM,CAACmB,SAArB,CAA/C,CAAN;AACD;;AAE2B,QAAtBC,sBAAsB,CAACpB,MAAD,EAA6DC,QAA7D,EAAoG;AAC9H,UAAM,KAAKH,cAAL,CAAoBsB,sBAApB,CAA2CnB,QAA3C,EAAqDD,MAArD,CAAN;AACD;;AAEU,QAALqB,KAAK,CAACrB,MAAD,EAA4CC,QAA5C,EAAmF;AAC5F,WAAO,MAAM,KAAKH,cAAL,CAAoBuB,KAApB,CAA0BpB,QAA1B,EAAoCD,MAApC,CAAb;AACD;;AAEU,QAALsB,KAAK,CAACtB,MAAD,EAA4CC,QAA5C,EAAmF;AAC5F,WAAO,MAAM,KAAKH,cAAL,CAAoBwB,KAApB,CAA0BrB,QAA1B,EAAoCD,MAApC,CAAb;AACD;;AAEa,QAARuB,QAAQ,CAACvB,MAAD,EAA+CC,QAA/C,EAAsF;AAClG,WAAO,MAAM,KAAKH,cAAL,CAAoByB,QAApB,CAA6BtB,QAA7B,EAAuCD,MAAvC,CAAb;AACD;;AAEQ,QAAHwB,GAAG,CAACxB,MAAD,EAA0CC,QAA1C,EAAiF;AACxF,WAAO,MAAM,KAAKH,cAAL,CAAoB0B,GAApB,CAAwBvB,QAAxB,EAAkCD,MAAlC,CAAb;AACD;;AAEiB,QAAZyB,YAAY,CAACzB,MAAD,EAAmDC,QAAnD,EAA8H;AAC9I,UAAMyB,QAAQ,GAAG,CAAC1B,MAAM,CAAC0B,QAAP,IAAmB,EAApB,EAAwBC,GAAxB,CAA4BC,CAAC,IAAKA,CAAD,CAA+B9B,cAAhE,CAAjB;AACA,WAAO;AAAE+B,MAAAA,MAAM,EAAE,MAAM,KAAK/B,cAAL,CAAoB2B,YAApB,CAAiCxB,QAAjC,EAA2CyB,QAA3C,EAAqD1B,MAAM,CAAC8B,OAAP,IAAkB,EAAvE,EAA2E9B,MAA3E;AAAhB,KAAP;AACD;;AAES,QAAJ+B,IAAI,CAAC/B,MAAD,EAA2CC,QAA3C,EAAkF;AAC1F,WAAO,MAAM,KAAKH,cAAL,CAAoBiC,IAApB,CAAyB9B,QAAzB,EAAmCD,MAAM,CAACK,KAA1C,EAAiDL,MAAjD,CAAb;AACD;;AAEe,QAAVgC,UAAU,CAAChC,MAAD,EAAiDC,QAAjD,EAAwF;AACtG,UAAM,KAAKH,cAAL,CAAoBkC,UAApB,CAA+B/B,QAA/B,EAAyCD,MAAzC,CAAN;AACD;;AAEkB,QAAbiC,aAAa,CAACjC,MAAD,EAAoDC,QAApD,EAA2F;AAC5G,WAAO,MAAM,KAAKH,cAAL,CAAoBmC,aAApB,CAAkChC,QAAlC,EAA4CD,MAAM,CAACkC,KAAnD,EAA0DlC,MAA1D,CAAb;AACD;;AAEU,QAALmC,KAAK,CAACnC,MAAD,EAA4CC,QAA5C,EAAmF;AAC5F,UAAM,KAAKH,cAAL,CAAoBqC,KAApB,CAA0BlC,QAA1B,CAAN;AACD;;AAES,QAAJiB,IAAI,CAAClB,MAAD,EAA2CC,QAA3C,EAAkF;AAC1F,WAAO,MAAM,KAAKH,cAAL,CAAoBoB,IAApB,CAAyBjB,QAAzB,EAAmCD,MAAM,CAACoC,IAA1C,EAAgDpC,MAAhD,CAAb;AACD;;AAEU,QAALqC,KAAK,CAACrC,MAAD,EAA4CC,QAA5C,EAAmF;AAC5F,WAAO,MAAM,KAAKH,cAAL,CAAoBuC,KAApB,CAA0BpC,QAA1B,EAAoCD,MAAM,CAACsC,GAA3C,EAAgDtC,MAAhD,CAAb;AACD;;AAEU,QAALuC,KAAK,CAACvC,MAAD,EAA4CC,QAA5C,EAAmF;AAC5F,WAAO,MAAM,KAAKH,cAAL,CAAoByC,KAApB,CAA0BtC,QAA1B,EAAoCD,MAApC,CAAb;AACD;;AAEY,QAAPwC,OAAO,CAACxC,MAAD,EAA8CC,QAA9C,EAAqF;AAChG,WAAO,MAAM,KAAKH,cAAL,CAAoB0C,OAApB,CAA4BvC,QAA5B,EAAsCD,MAAtC,CAAb;AACD;;AAEgB,QAAXyC,WAAW,CAACzC,MAAD,EAAkDC,QAAlD,EAA4H;AAC3I,UAAMI,KAAK,GAAG,MAAM,KAAKP,cAAL,CAAoB2C,WAApB,EAApB;AACA,WAAO;AAAEpC,MAAAA,KAAK,EAAEA,KAAK,IAAIb;AAAlB,KAAP;AACD;;AAEe,QAAVkD,UAAU,CAAC1C,MAAD,EAAiDC,QAAjD,EAA0H;AACxI,WAAO;AAAE0C,MAAAA,MAAM,EAAE,CAAC,MAAM,KAAK7C,cAAL,CAAoB4C,UAApB,CAA+BzC,QAA/B,EAAyCD,MAAzC,CAAP,EAAyD4C,QAAzD,CAAkE,QAAlE;AAAV,KAAP;AACD;;AAEkB,QAAbC,aAAa,CAAC7C,MAAD,EAAoDC,QAApD,EAAgI;AACjJ,UAAMX,MAAM,GAAG,MAAM,KAAKQ,cAAL,CAAoB+C,aAApB,CAAkC7C,MAAM,CAAC8C,QAAzC,EAAmD9C,MAAnD,CAArB;AACA,WAAO;AAAE+C,MAAAA,OAAO,EAAE7D,uBAAuB,CAACK,YAAxB,CAAqC,KAAKyD,MAA1C,EAAkD1D,MAAlD;AAAX,KAAP;AACD;;AAEqB,QAAhB2D,gBAAgB,CAACjD,MAAD,EAAuDC,QAAvD,EAAsI;AAC1J,UAAMyB,QAAQ,GAAG,MAAM,KAAK5B,cAAL,CAAoBmD,gBAApB,CAAqCjD,MAAM,CAAC8C,QAA5C,CAAvB;AACA,WAAO;AAAEpB,MAAAA,QAAQ,EAAEA,QAAQ,CAACC,GAAT,CAAaC,CAAC,IAAI1C,uBAAuB,CAACE,IAAxB,CAA6B,KAAK4D,MAAlC,EAA0CpB,CAA1C,CAAlB;AAAZ,KAAP;AACD;;AAEmB,QAAdsB,cAAc,CAAClD,MAAD,EAAqDC,QAArD,EAAkI;AACpJ,WAAO;AAAEI,MAAAA,KAAK,EAAE,yCAAgB,MAAM,KAAKP,cAAL,CAAoBqD,+BAApB,CAAoDnD,MAAM,CAAC8C,QAA3D,EAAqE,CAAC,CAAC9C,MAAM,CAACoD,MAA9E,EAAsFpD,MAAM,CAACqD,UAA7F,EAAyGrD,MAAM,CAACsD,UAAhH,EAA4H,uCAActD,MAAM,CAACuD,GAArB,CAA5H,CAAtB;AAAT,KAAP;AACD;;AAEsB,QAAjBC,iBAAiB,CAACxD,MAAD,EAAwDC,QAAxD,EAAwI;AAC7J,WAAO;AAAEI,MAAAA,KAAK,EAAE,yCAAgB,MAAM,KAAKP,cAAL,CAAoB2D,kCAApB,CAAuDzD,MAAM,CAAC8C,QAA9D,EAAwE9C,MAAM,CAACqD,UAA/E,EAA2FrD,MAAM,CAACsD,UAAlG,EAA8G,uCAActD,MAAM,CAACuD,GAArB,CAA9G,CAAtB;AAAT,KAAP;AACD;;AAEwB,QAAnBG,mBAAmB,CAAC1D,MAAD,EAA0DC,QAA1D,EAAiG;AACxH,UAAM,KAAKH,cAAL,CAAoB4D,mBAApB,CAAwCzD,QAAxC,EAAkDD,MAAM,CAAC2D,KAAzD,EAAgE3D,MAAhE,CAAN;AACD;;AAEoB,QAAf4D,eAAe,CAAC5D,MAAD,EAAsDC,QAAtD,EAAoI;AACvJ,WAAO;AAAE8C,MAAAA,OAAO,EAAE7D,uBAAuB,CAACK,YAAxB,CAAqC,KAAKyD,MAA1C,EAAkD,MAAM,KAAKlD,cAAL,CAAoB8D,eAApB,CAAoC3D,QAApC,EAA8CD,MAAM,CAAC8C,QAArD,EAA+D9C,MAA/D,CAAxD;AAAX,KAAP;AACD;;AA9KsG","sourcesContent":["/**\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ElementHandle } from '../server/dom';\nimport * as js from '../server/javascript';\nimport * as channels from '../protocol/channels';\nimport { DispatcherScope, existingDispatcher, lookupNullableDispatcher } from './dispatcher';\nimport { JSHandleDispatcher, serializeResult, parseArgument } from './jsHandleDispatcher';\nimport { FrameDispatcher } from './frameDispatcher';\nimport { CallMetadata } from '../server/instrumentation';\n\nexport class ElementHandleDispatcher extends JSHandleDispatcher implements channels.ElementHandleChannel {\n  readonly _elementHandle: ElementHandle;\n\n  static from(scope: DispatcherScope, handle: ElementHandle): ElementHandleDispatcher {\n    return existingDispatcher<ElementHandleDispatcher>(handle) || new ElementHandleDispatcher(scope, handle);\n  }\n\n  static fromNullable(scope: DispatcherScope, handle: ElementHandle | null): ElementHandleDispatcher | undefined {\n    if (!handle)\n      return undefined;\n    return existingDispatcher<ElementHandleDispatcher>(handle) || new ElementHandleDispatcher(scope, handle);\n  }\n\n  static fromJSHandle(scope: DispatcherScope, handle: js.JSHandle): JSHandleDispatcher {\n    const result = existingDispatcher<JSHandleDispatcher>(handle);\n    if (result)\n      return result;\n    return handle.asElement() ? new ElementHandleDispatcher(scope, handle.asElement()!) : new JSHandleDispatcher(scope, handle);\n  }\n\n  private constructor(scope: DispatcherScope, elementHandle: ElementHandle) {\n    super(scope, elementHandle);\n    this._elementHandle = elementHandle;\n  }\n\n  async ownerFrame(params: channels.ElementHandleOwnerFrameParams, metadata: CallMetadata): Promise<channels.ElementHandleOwnerFrameResult> {\n    return { frame: lookupNullableDispatcher<FrameDispatcher>(await this._elementHandle.ownerFrame()) };\n  }\n\n  async contentFrame(params: channels.ElementHandleContentFrameParams, metadata: CallMetadata): Promise<channels.ElementHandleContentFrameResult> {\n    return { frame: lookupNullableDispatcher<FrameDispatcher>(await this._elementHandle.contentFrame()) };\n  }\n\n  async getAttribute(params: channels.ElementHandleGetAttributeParams, metadata: CallMetadata): Promise<channels.ElementHandleGetAttributeResult> {\n    const value = await this._elementHandle.getAttribute(params.name);\n    return { value: value === null ? undefined : value };\n  }\n\n  async inputValue(params: channels.ElementHandleInputValueParams, metadata: CallMetadata): Promise<channels.ElementHandleInputValueResult> {\n    const value = await this._elementHandle.inputValue();\n    return { value };\n  }\n\n  async textContent(params: channels.ElementHandleTextContentParams, metadata: CallMetadata): Promise<channels.ElementHandleTextContentResult> {\n    const value = await this._elementHandle.textContent();\n    return { value: value === null ? undefined : value };\n  }\n\n  async innerText(params: channels.ElementHandleInnerTextParams, metadata: CallMetadata): Promise<channels.ElementHandleInnerTextResult> {\n    return { value: await this._elementHandle.innerText() };\n  }\n\n  async innerHTML(params: channels.ElementHandleInnerHTMLParams, metadata: CallMetadata): Promise<channels.ElementHandleInnerHTMLResult> {\n    return { value: await this._elementHandle.innerHTML() };\n  }\n\n  async isChecked(params: channels.ElementHandleIsCheckedParams, metadata: CallMetadata): Promise<channels.ElementHandleIsCheckedResult> {\n    return { value: await this._elementHandle.isChecked() };\n  }\n\n  async isDisabled(params: channels.ElementHandleIsDisabledParams, metadata: CallMetadata): Promise<channels.ElementHandleIsDisabledResult> {\n    return { value: await this._elementHandle.isDisabled() };\n  }\n\n  async isEditable(params: channels.ElementHandleIsEditableParams, metadata: CallMetadata): Promise<channels.ElementHandleIsEditableResult> {\n    return { value: await this._elementHandle.isEditable() };\n  }\n\n  async isEnabled(params: channels.ElementHandleIsEnabledParams, metadata: CallMetadata): Promise<channels.ElementHandleIsEnabledResult> {\n    return { value: await this._elementHandle.isEnabled() };\n  }\n\n  async isHidden(params: channels.ElementHandleIsHiddenParams, metadata: CallMetadata): Promise<channels.ElementHandleIsHiddenResult> {\n    return { value: await this._elementHandle.isHidden() };\n  }\n\n  async isVisible(params: channels.ElementHandleIsVisibleParams, metadata: CallMetadata): Promise<channels.ElementHandleIsVisibleResult> {\n    return { value: await this._elementHandle.isVisible() };\n  }\n\n  async dispatchEvent(params: channels.ElementHandleDispatchEventParams, metadata: CallMetadata): Promise<void> {\n    await this._elementHandle.dispatchEvent(params.type, parseArgument(params.eventInit));\n  }\n\n  async scrollIntoViewIfNeeded(params: channels.ElementHandleScrollIntoViewIfNeededParams, metadata: CallMetadata): Promise<void> {\n    await this._elementHandle.scrollIntoViewIfNeeded(metadata, params);\n  }\n\n  async hover(params: channels.ElementHandleHoverParams, metadata: CallMetadata): Promise<void> {\n    return await this._elementHandle.hover(metadata, params);\n  }\n\n  async click(params: channels.ElementHandleClickParams, metadata: CallMetadata): Promise<void> {\n    return await this._elementHandle.click(metadata, params);\n  }\n\n  async dblclick(params: channels.ElementHandleDblclickParams, metadata: CallMetadata): Promise<void> {\n    return await this._elementHandle.dblclick(metadata, params);\n  }\n\n  async tap(params: channels.ElementHandleTapParams, metadata: CallMetadata): Promise<void> {\n    return await this._elementHandle.tap(metadata, params);\n  }\n\n  async selectOption(params: channels.ElementHandleSelectOptionParams, metadata: CallMetadata): Promise<channels.ElementHandleSelectOptionResult> {\n    const elements = (params.elements || []).map(e => (e as ElementHandleDispatcher)._elementHandle);\n    return { values: await this._elementHandle.selectOption(metadata, elements, params.options || [], params) };\n  }\n\n  async fill(params: channels.ElementHandleFillParams, metadata: CallMetadata): Promise<void> {\n    return await this._elementHandle.fill(metadata, params.value, params);\n  }\n\n  async selectText(params: channels.ElementHandleSelectTextParams, metadata: CallMetadata): Promise<void> {\n    await this._elementHandle.selectText(metadata, params);\n  }\n\n  async setInputFiles(params: channels.ElementHandleSetInputFilesParams, metadata: CallMetadata): Promise<void> {\n    return await this._elementHandle.setInputFiles(metadata, params.files, params);\n  }\n\n  async focus(params: channels.ElementHandleFocusParams, metadata: CallMetadata): Promise<void> {\n    await this._elementHandle.focus(metadata);\n  }\n\n  async type(params: channels.ElementHandleTypeParams, metadata: CallMetadata): Promise<void> {\n    return await this._elementHandle.type(metadata, params.text, params);\n  }\n\n  async press(params: channels.ElementHandlePressParams, metadata: CallMetadata): Promise<void> {\n    return await this._elementHandle.press(metadata, params.key, params);\n  }\n\n  async check(params: channels.ElementHandleCheckParams, metadata: CallMetadata): Promise<void> {\n    return await this._elementHandle.check(metadata, params);\n  }\n\n  async uncheck(params: channels.ElementHandleUncheckParams, metadata: CallMetadata): Promise<void> {\n    return await this._elementHandle.uncheck(metadata, params);\n  }\n\n  async boundingBox(params: channels.ElementHandleBoundingBoxParams, metadata: CallMetadata): Promise<channels.ElementHandleBoundingBoxResult> {\n    const value = await this._elementHandle.boundingBox();\n    return { value: value || undefined };\n  }\n\n  async screenshot(params: channels.ElementHandleScreenshotParams, metadata: CallMetadata): Promise<channels.ElementHandleScreenshotResult> {\n    return { binary: (await this._elementHandle.screenshot(metadata, params)).toString('base64') };\n  }\n\n  async querySelector(params: channels.ElementHandleQuerySelectorParams, metadata: CallMetadata): Promise<channels.ElementHandleQuerySelectorResult> {\n    const handle = await this._elementHandle.querySelector(params.selector, params);\n    return { element: ElementHandleDispatcher.fromNullable(this._scope, handle) };\n  }\n\n  async querySelectorAll(params: channels.ElementHandleQuerySelectorAllParams, metadata: CallMetadata): Promise<channels.ElementHandleQuerySelectorAllResult> {\n    const elements = await this._elementHandle.querySelectorAll(params.selector);\n    return { elements: elements.map(e => ElementHandleDispatcher.from(this._scope, e)) };\n  }\n\n  async evalOnSelector(params: channels.ElementHandleEvalOnSelectorParams, metadata: CallMetadata): Promise<channels.ElementHandleEvalOnSelectorResult> {\n    return { value: serializeResult(await this._elementHandle.evalOnSelectorAndWaitForSignals(params.selector, !!params.strict, params.expression, params.isFunction, parseArgument(params.arg))) };\n  }\n\n  async evalOnSelectorAll(params: channels.ElementHandleEvalOnSelectorAllParams, metadata: CallMetadata): Promise<channels.ElementHandleEvalOnSelectorAllResult> {\n    return { value: serializeResult(await this._elementHandle.evalOnSelectorAllAndWaitForSignals(params.selector, params.expression, params.isFunction, parseArgument(params.arg))) };\n  }\n\n  async waitForElementState(params: channels.ElementHandleWaitForElementStateParams, metadata: CallMetadata): Promise<void> {\n    await this._elementHandle.waitForElementState(metadata, params.state, params);\n  }\n\n  async waitForSelector(params: channels.ElementHandleWaitForSelectorParams, metadata: CallMetadata): Promise<channels.ElementHandleWaitForSelectorResult> {\n    return { element: ElementHandleDispatcher.fromNullable(this._scope, await this._elementHandle.waitForSelector(metadata, params.selector, params)) };\n  }\n}\n"],"file":"elementHandlerDispatcher.js"}