{"version":3,"sources":["../../../../src/server/supplements/recorder/recorderActions.ts"],"names":["actionTitle","action","name","selector","clickCount","files","length","join","url","key","modifiers","options"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA8EA;AA4BO,SAASA,WAAT,CAAqBC,MAArB,EAA6C;AAClD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,UAAL;AACE,aAAQ,eAAR;;AACF,SAAK,WAAL;AACE,aAAQ,YAAR;;AACF,SAAK,OAAL;AACE,aAAQ,SAAQD,MAAM,CAACE,QAAS,EAAhC;;AACF,SAAK,SAAL;AACE,aAAQ,WAAUF,MAAM,CAACE,QAAS,EAAlC;;AACF,SAAK,OAAL;AAAc;AACZ,YAAIF,MAAM,CAACG,UAAP,KAAsB,CAA1B,EACE,OAAQ,SAAQH,MAAM,CAACE,QAAS,EAAhC;AACF,YAAIF,MAAM,CAACG,UAAP,KAAsB,CAA1B,EACE,OAAQ,gBAAeH,MAAM,CAACE,QAAS,EAAvC;AACF,YAAIF,MAAM,CAACG,UAAP,KAAsB,CAA1B,EACE,OAAQ,gBAAeH,MAAM,CAACE,QAAS,EAAvC;AACF,eAAQ,GAAEF,MAAM,CAACG,UAAW,SAA5B;AACD;;AACD,SAAK,MAAL;AACE,aAAQ,QAAOH,MAAM,CAACE,QAAS,EAA/B;;AACF,SAAK,eAAL;AACE,UAAIF,MAAM,CAACI,KAAP,CAAaC,MAAb,KAAwB,CAA5B,EACE,OAAQ,sBAAR,CADF,KAGE,OAAQ,UAASL,MAAM,CAACI,KAAP,CAAaE,IAAb,CAAkB,IAAlB,CAAwB,EAAzC;;AACJ,SAAK,UAAL;AACE,aAAQ,SAAQN,MAAM,CAACO,GAAI,EAA3B;;AACF,SAAK,OAAL;AACE,aAAQ,SAAQP,MAAM,CAACQ,GAAI,EAApB,IAAyBR,MAAM,CAACS,SAAP,GAAmB,iBAAnB,GAAuC,EAAhE,CAAP;;AACF,SAAK,QAAL;AACE,aAAQ,UAAST,MAAM,CAACU,OAAP,CAAeJ,IAAf,CAAoB,IAApB,CAA0B,EAA3C;AA9BJ;AAgCD","sourcesContent":["/**\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport type ActionName =\n  'check' |\n  'click' |\n  'closePage' |\n  'fill' |\n  'navigate' |\n  'openPage' |\n  'press' |\n  'select' |\n  'uncheck' |\n  'setInputFiles';\n\nexport type ActionBase = {\n  name: ActionName,\n  signals: Signal[],\n};\n\nexport type ClickAction = ActionBase & {\n  name: 'click',\n  selector: string,\n  button: 'left' | 'middle' | 'right',\n  modifiers: number,\n  clickCount: number,\n};\n\nexport type CheckAction = ActionBase & {\n  name: 'check',\n  selector: string,\n};\n\nexport type UncheckAction = ActionBase & {\n  name: 'uncheck',\n  selector: string,\n};\n\nexport type FillAction = ActionBase & {\n  name: 'fill',\n  selector: string,\n  text: string,\n};\n\nexport type NavigateAction = ActionBase & {\n  name: 'navigate',\n  url: string,\n};\n\nexport type OpenPageAction = ActionBase & {\n  name: 'openPage',\n  url: string,\n};\n\nexport type ClosesPageAction = ActionBase & {\n  name: 'closePage',\n};\n\nexport type PressAction = ActionBase & {\n  name: 'press',\n  selector: string,\n  key: string,\n  modifiers: number,\n};\n\nexport type SelectAction = ActionBase & {\n  name: 'select',\n  selector: string,\n  options: string[],\n};\n\nexport type SetInputFilesAction = ActionBase & {\n  name: 'setInputFiles',\n  selector: string,\n  files: string[],\n};\n\nexport type Action = ClickAction | CheckAction | ClosesPageAction | OpenPageAction | UncheckAction | FillAction | NavigateAction | PressAction | SelectAction | SetInputFilesAction;\n\n// Signals.\n\nexport type BaseSignal = {\n  isAsync?: boolean,\n};\n\nexport type NavigationSignal = BaseSignal & {\n  name: 'navigation',\n  url: string,\n};\n\nexport type PopupSignal = BaseSignal & {\n  name: 'popup',\n  popupAlias: string,\n};\n\nexport type DownloadSignal = BaseSignal & {\n  name: 'download',\n  downloadAlias: string,\n};\n\nexport type DialogSignal = BaseSignal & {\n  name: 'dialog',\n  dialogAlias: string,\n};\n\nexport type Signal = NavigationSignal | PopupSignal | DownloadSignal | DialogSignal;\n\nexport function actionTitle(action: Action): string {\n  switch (action.name) {\n    case 'openPage':\n      return `Open new page`;\n    case 'closePage':\n      return `Close page`;\n    case 'check':\n      return `Check ${action.selector}`;\n    case 'uncheck':\n      return `Uncheck ${action.selector}`;\n    case 'click': {\n      if (action.clickCount === 1)\n        return `Click ${action.selector}`;\n      if (action.clickCount === 2)\n        return `Double click ${action.selector}`;\n      if (action.clickCount === 3)\n        return `Triple click ${action.selector}`;\n      return `${action.clickCount}Ã— click`;\n    }\n    case 'fill':\n      return `Fill ${action.selector}`;\n    case 'setInputFiles':\n      if (action.files.length === 0)\n        return `Clear selected files`;\n      else\n        return `Upload ${action.files.join(', ')}`;\n    case 'navigate':\n      return `Go to ${action.url}`;\n    case 'press':\n      return `Press ${action.key}` + (action.modifiers ? ' with modifiers' : '');\n    case 'select':\n      return `Select ${action.options.join(', ')}`;\n  }\n}\n"],"file":"recorderActions.js"}