{"version":3,"file":"timeoutSettings.js","names":["_utils","require","DEFAULT_TIMEOUT","exports","DEFAULT_LAUNCH_TIMEOUT","TimeoutSettings","constructor","parent","_parent","_defaultTimeout","_defaultNavigationTimeout","setDefaultTimeout","timeout","setDefaultNavigationTimeout","defaultNavigationTimeout","defaultTimeout","navigationTimeout","options","undefined","debugMode","launchTimeout"],"sources":["../../src/common/timeoutSettings.ts"],"sourcesContent":["/**\n * Copyright 2019 Google Inc. All rights reserved.\n * Modifications copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { debugMode } from '../utils';\n\nexport const DEFAULT_TIMEOUT = 30000;\nexport const DEFAULT_LAUNCH_TIMEOUT = 3 * 60 * 1000; // 3 minutes\n\nexport class TimeoutSettings {\n  private _parent: TimeoutSettings | undefined;\n  private _defaultTimeout: number | undefined;\n  private _defaultNavigationTimeout: number | undefined;\n\n  constructor(parent?: TimeoutSettings) {\n    this._parent = parent;\n  }\n\n  setDefaultTimeout(timeout: number | undefined) {\n    this._defaultTimeout = timeout;\n  }\n\n  setDefaultNavigationTimeout(timeout: number | undefined) {\n    this._defaultNavigationTimeout = timeout;\n  }\n\n  defaultNavigationTimeout() {\n    return this._defaultNavigationTimeout;\n  }\n\n  defaultTimeout() {\n    return this._defaultTimeout;\n  }\n\n  navigationTimeout(options: { timeout?: number }): number {\n    if (typeof options.timeout === 'number')\n      return options.timeout;\n    if (this._defaultNavigationTimeout !== undefined)\n      return this._defaultNavigationTimeout;\n    if (debugMode())\n      return 0;\n    if (this._defaultTimeout !== undefined)\n      return this._defaultTimeout;\n    if (this._parent)\n      return this._parent.navigationTimeout(options);\n    return DEFAULT_TIMEOUT;\n  }\n\n  timeout(options: { timeout?: number }): number {\n    if (typeof options.timeout === 'number')\n      return options.timeout;\n    if (debugMode())\n      return 0;\n    if (this._defaultTimeout !== undefined)\n      return this._defaultTimeout;\n    if (this._parent)\n      return this._parent.timeout(options);\n    return DEFAULT_TIMEOUT;\n  }\n\n  static timeout(options: { timeout?: number }): number {\n    if (typeof options.timeout === 'number')\n      return options.timeout;\n    if (debugMode())\n      return 0;\n    return DEFAULT_TIMEOUT;\n  }\n\n  static launchTimeout(options: { timeout?: number }): number {\n    if (typeof options.timeout === 'number')\n      return options.timeout;\n    if (debugMode())\n      return 0;\n    return DEFAULT_LAUNCH_TIMEOUT;\n  }\n}\n"],"mappings":";;;;;;AAiBA,IAAAA,MAAA,GAAAC,OAAA;AAjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIO,MAAMC,eAAe,GAAAC,OAAA,CAAAD,eAAA,GAAG,KAAK;AAC7B,MAAME,sBAAsB,GAAAD,OAAA,CAAAC,sBAAA,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;;AAE9C,MAAMC,eAAe,CAAC;EAK3BC,WAAWA,CAACC,MAAwB,EAAE;IAAA,KAJ9BC,OAAO;IAAA,KACPC,eAAe;IAAA,KACfC,yBAAyB;IAG/B,IAAI,CAACF,OAAO,GAAGD,MAAM;EACvB;EAEAI,iBAAiBA,CAACC,OAA2B,EAAE;IAC7C,IAAI,CAACH,eAAe,GAAGG,OAAO;EAChC;EAEAC,2BAA2BA,CAACD,OAA2B,EAAE;IACvD,IAAI,CAACF,yBAAyB,GAAGE,OAAO;EAC1C;EAEAE,wBAAwBA,CAAA,EAAG;IACzB,OAAO,IAAI,CAACJ,yBAAyB;EACvC;EAEAK,cAAcA,CAAA,EAAG;IACf,OAAO,IAAI,CAACN,eAAe;EAC7B;EAEAO,iBAAiBA,CAACC,OAA6B,EAAU;IACvD,IAAI,OAAOA,OAAO,CAACL,OAAO,KAAK,QAAQ,EACrC,OAAOK,OAAO,CAACL,OAAO;IACxB,IAAI,IAAI,CAACF,yBAAyB,KAAKQ,SAAS,EAC9C,OAAO,IAAI,CAACR,yBAAyB;IACvC,IAAI,IAAAS,gBAAS,EAAC,CAAC,EACb,OAAO,CAAC;IACV,IAAI,IAAI,CAACV,eAAe,KAAKS,SAAS,EACpC,OAAO,IAAI,CAACT,eAAe;IAC7B,IAAI,IAAI,CAACD,OAAO,EACd,OAAO,IAAI,CAACA,OAAO,CAACQ,iBAAiB,CAACC,OAAO,CAAC;IAChD,OAAOf,eAAe;EACxB;EAEAU,OAAOA,CAACK,OAA6B,EAAU;IAC7C,IAAI,OAAOA,OAAO,CAACL,OAAO,KAAK,QAAQ,EACrC,OAAOK,OAAO,CAACL,OAAO;IACxB,IAAI,IAAAO,gBAAS,EAAC,CAAC,EACb,OAAO,CAAC;IACV,IAAI,IAAI,CAACV,eAAe,KAAKS,SAAS,EACpC,OAAO,IAAI,CAACT,eAAe;IAC7B,IAAI,IAAI,CAACD,OAAO,EACd,OAAO,IAAI,CAACA,OAAO,CAACI,OAAO,CAACK,OAAO,CAAC;IACtC,OAAOf,eAAe;EACxB;EAEA,OAAOU,OAAOA,CAACK,OAA6B,EAAU;IACpD,IAAI,OAAOA,OAAO,CAACL,OAAO,KAAK,QAAQ,EACrC,OAAOK,OAAO,CAACL,OAAO;IACxB,IAAI,IAAAO,gBAAS,EAAC,CAAC,EACb,OAAO,CAAC;IACV,OAAOjB,eAAe;EACxB;EAEA,OAAOkB,aAAaA,CAACH,OAA6B,EAAU;IAC1D,IAAI,OAAOA,OAAO,CAACL,OAAO,KAAK,QAAQ,EACrC,OAAOK,OAAO,CAACL,OAAO;IACxB,IAAI,IAAAO,gBAAS,EAAC,CAAC,EACb,OAAO,CAAC;IACV,OAAOf,sBAAsB;EAC/B;AACF;AAACD,OAAA,CAAAE,eAAA,GAAAA,eAAA"}