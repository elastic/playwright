{"version":3,"file":"locator.js","names":["util","_interopRequireWildcard","require","_utils","_elementHandle","_jsHandle","_stringUtils","_locatorUtils","_util$inspect$custom","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","inspect","custom","Locator","constructor","frame","selector","options","_frame","_selector","hasText","escapeForTextSelector","hasNotText","locator","Error","JSON","stringify","hasNot","_withElement","task","timeout","page","_timeoutSettings","deadline","monotonicTime","_wrapApiCall","result","_channel","waitForSelector","strict","state","handle","ElementHandle","fromNullable","element","dispose","_equals","boundingBox","h","check","click","dblclick","dispatchEvent","type","eventInit","dragTo","target","dragAndDrop","evaluate","pageFunction","arg","evaluateAll","$$eval","evaluateHandle","fill","value","clear","_highlight","highlight","selectorOrLocator","isString","getByTestId","testId","getByTestIdSelector","testIdAttributeName","getByAltText","text","getByAltTextSelector","getByLabel","getByLabelSelector","getByPlaceholder","getByPlaceholderSelector","getByText","getByTextSelector","getByTitle","getByTitleSelector","getByRole","role","getByRoleSelector","frameLocator","FrameLocator","filter","elementHandle","elementHandles","$$","contentFrame","first","last","nth","index","and","or","focus","blur","count","_queryCount","getAttribute","name","hover","innerHTML","innerText","inputValue","isChecked","isDisabled","isEditable","isEnabled","isHidden","isVisible","press","key","screenshot","scrollIntoViewIfNeeded","selectOption","values","selectText","setChecked","checked","uncheck","setInputFiles","files","tap","textContent","pressSequentially","all","Array","map","allInnerTexts","ee","allTextContents","waitFor","omitReturnValue","_expect","expression","params","isNot","expectedValue","serializeArgument","expect","received","undefined","parseResult","toString","asLocator","exports","_frameSelector","owner","_testIdAttributeName","setTestIdAttribute","attributeName"],"sources":["../../src/client/locator.ts"],"sourcesContent":["/**\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type * as structs from '../../types/structs';\nimport type * as api from '../../types/types';\nimport type * as channels from '@protocol/channels';\nimport * as util from 'util';\nimport { asLocator, isString, monotonicTime } from '../utils';\nimport { ElementHandle } from './elementHandle';\nimport type { Frame } from './frame';\nimport type { FilePayload, FrameExpectOptions, Rect, SelectOption, SelectOptionOptions, TimeoutOptions } from './types';\nimport { parseResult, serializeArgument } from './jsHandle';\nimport { escapeForTextSelector } from '../utils/isomorphic/stringUtils';\nimport type { ByRoleOptions } from '../utils/isomorphic/locatorUtils';\nimport { getByAltTextSelector, getByLabelSelector, getByPlaceholderSelector, getByRoleSelector, getByTestIdSelector, getByTextSelector, getByTitleSelector } from '../utils/isomorphic/locatorUtils';\n\nexport type LocatorOptions = {\n  hasText?: string | RegExp;\n  hasNotText?: string | RegExp;\n  has?: Locator;\n  hasNot?: Locator;\n};\n\nexport class Locator implements api.Locator {\n  _frame: Frame;\n  _selector: string;\n\n  constructor(frame: Frame, selector: string, options?: LocatorOptions) {\n    this._frame = frame;\n    this._selector = selector;\n\n    if (options?.hasText)\n      this._selector += ` >> internal:has-text=${escapeForTextSelector(options.hasText, false)}`;\n\n    if (options?.hasNotText)\n      this._selector += ` >> internal:has-not-text=${escapeForTextSelector(options.hasNotText, false)}`;\n\n    if (options?.has) {\n      const locator = options.has;\n      if (locator._frame !== frame)\n        throw new Error(`Inner \"has\" locator must belong to the same frame.`);\n      this._selector += ` >> internal:has=` + JSON.stringify(locator._selector);\n    }\n\n    if (options?.hasNot) {\n      const locator = options.hasNot;\n      if (locator._frame !== frame)\n        throw new Error(`Inner \"hasNot\" locator must belong to the same frame.`);\n      this._selector += ` >> internal:has-not=` + JSON.stringify(locator._selector);\n    }\n  }\n\n  private async _withElement<R>(task: (handle: ElementHandle<SVGElement | HTMLElement>, timeout?: number) => Promise<R>, timeout?: number): Promise<R> {\n    timeout = this._frame.page()._timeoutSettings.timeout({ timeout });\n    const deadline = timeout ? monotonicTime() + timeout : 0;\n\n    return await this._frame._wrapApiCall<R>(async () => {\n      const result = await this._frame._channel.waitForSelector({ selector: this._selector, strict: true, state: 'attached', timeout });\n      const handle = ElementHandle.fromNullable(result.element) as ElementHandle<SVGElement | HTMLElement> | null;\n      if (!handle)\n        throw new Error(`Could not resolve ${this._selector} to DOM Element`);\n      try {\n        return await task(handle, deadline ? deadline - monotonicTime() : 0);\n      } finally {\n        await handle.dispose();\n      }\n    });\n  }\n\n  _equals(locator: Locator) {\n    return this._frame === locator._frame && this._selector === locator._selector;\n  }\n\n  page() {\n    return this._frame.page();\n  }\n\n  async boundingBox(options?: TimeoutOptions): Promise<Rect | null> {\n    return await this._withElement(h => h.boundingBox(), options?.timeout);\n  }\n\n  async check(options: channels.ElementHandleCheckOptions = {}) {\n    return await this._frame.check(this._selector, { strict: true, ...options });\n  }\n\n  async click(options: channels.ElementHandleClickOptions = {}): Promise<void> {\n    return await this._frame.click(this._selector, { strict: true, ...options });\n  }\n\n  async dblclick(options: channels.ElementHandleDblclickOptions = {}): Promise<void> {\n    return await this._frame.dblclick(this._selector, { strict: true, ...options });\n  }\n\n  async dispatchEvent(type: string, eventInit: Object = {}, options?: TimeoutOptions) {\n    return await this._frame.dispatchEvent(this._selector, type, eventInit, { strict: true, ...options });\n  }\n\n  async dragTo(target: Locator, options: channels.FrameDragAndDropOptions = {}) {\n    return await this._frame.dragAndDrop(this._selector, target._selector, {\n      strict: true,\n      ...options,\n    });\n  }\n\n  async evaluate<R, Arg>(pageFunction: structs.PageFunctionOn<SVGElement | HTMLElement, Arg, R>, arg?: Arg, options?: TimeoutOptions): Promise<R> {\n    return await this._withElement(h => h.evaluate(pageFunction, arg), options?.timeout);\n  }\n\n  async evaluateAll<R, Arg>(pageFunction: structs.PageFunctionOn<Element[], Arg, R>, arg?: Arg): Promise<R> {\n    return await this._frame.$$eval(this._selector, pageFunction, arg);\n  }\n\n  async evaluateHandle<R, Arg>(pageFunction: structs.PageFunctionOn<any, Arg, R>, arg?: Arg, options?: TimeoutOptions): Promise<structs.SmartHandle<R>> {\n    return await this._withElement(h => h.evaluateHandle(pageFunction, arg), options?.timeout);\n  }\n\n  async fill(value: string, options: channels.ElementHandleFillOptions = {}): Promise<void> {\n    return await this._frame.fill(this._selector, value, { strict: true, ...options });\n  }\n\n  async clear(options: channels.ElementHandleFillOptions = {}): Promise<void> {\n    return await this.fill('', options);\n  }\n\n  async _highlight() {\n    // VS Code extension uses this one, keep it for now.\n    return await this._frame._highlight(this._selector);\n  }\n\n  async highlight() {\n    return await this._frame._highlight(this._selector);\n  }\n\n  locator(selectorOrLocator: string | Locator, options?: LocatorOptions): Locator {\n    if (isString(selectorOrLocator))\n      return new Locator(this._frame, this._selector + ' >> ' + selectorOrLocator, options);\n    if (selectorOrLocator._frame !== this._frame)\n      throw new Error(`Locators must belong to the same frame.`);\n    return new Locator(this._frame, this._selector + ' >> internal:chain=' + JSON.stringify(selectorOrLocator._selector), options);\n  }\n\n  getByTestId(testId: string | RegExp): Locator {\n    return this.locator(getByTestIdSelector(testIdAttributeName(), testId));\n  }\n\n  getByAltText(text: string | RegExp, options?: { exact?: boolean }): Locator {\n    return this.locator(getByAltTextSelector(text, options));\n  }\n\n  getByLabel(text: string | RegExp, options?: { exact?: boolean }): Locator {\n    return this.locator(getByLabelSelector(text, options));\n  }\n\n  getByPlaceholder(text: string | RegExp, options?: { exact?: boolean }): Locator {\n    return this.locator(getByPlaceholderSelector(text, options));\n  }\n\n  getByText(text: string | RegExp, options?: { exact?: boolean }): Locator {\n    return this.locator(getByTextSelector(text, options));\n  }\n\n  getByTitle(text: string | RegExp, options?: { exact?: boolean }): Locator {\n    return this.locator(getByTitleSelector(text, options));\n  }\n\n  getByRole(role: string, options: ByRoleOptions = {}): Locator {\n    return this.locator(getByRoleSelector(role, options));\n  }\n\n  frameLocator(selector: string): FrameLocator {\n    return new FrameLocator(this._frame, this._selector + ' >> ' + selector);\n  }\n\n  filter(options?: LocatorOptions): Locator {\n    return new Locator(this._frame, this._selector, options);\n  }\n\n  async elementHandle(options?: TimeoutOptions): Promise<ElementHandle<SVGElement | HTMLElement>> {\n    return await this._frame.waitForSelector(this._selector, { strict: true, state: 'attached', ...options })!;\n  }\n\n  async elementHandles(): Promise<api.ElementHandle<SVGElement | HTMLElement>[]> {\n    return await this._frame.$$(this._selector);\n  }\n\n  contentFrame() {\n    return new FrameLocator(this._frame, this._selector);\n  }\n\n  first(): Locator {\n    return new Locator(this._frame, this._selector + ' >> nth=0');\n  }\n\n  last(): Locator {\n    return new Locator(this._frame, this._selector + ` >> nth=-1`);\n  }\n\n  nth(index: number): Locator {\n    return new Locator(this._frame, this._selector + ` >> nth=${index}`);\n  }\n\n  and(locator: Locator): Locator {\n    if (locator._frame !== this._frame)\n      throw new Error(`Locators must belong to the same frame.`);\n    return new Locator(this._frame, this._selector + ` >> internal:and=` + JSON.stringify(locator._selector));\n  }\n\n  or(locator: Locator): Locator {\n    if (locator._frame !== this._frame)\n      throw new Error(`Locators must belong to the same frame.`);\n    return new Locator(this._frame, this._selector + ` >> internal:or=` + JSON.stringify(locator._selector));\n  }\n\n  async focus(options?: TimeoutOptions): Promise<void> {\n    return await this._frame.focus(this._selector, { strict: true, ...options });\n  }\n\n  async blur(options?: TimeoutOptions): Promise<void> {\n    await this._frame._channel.blur({ selector: this._selector, strict: true, ...options });\n  }\n\n  async count(): Promise<number> {\n    return await this._frame._queryCount(this._selector);\n  }\n\n  async getAttribute(name: string, options?: TimeoutOptions): Promise<string | null> {\n    return await this._frame.getAttribute(this._selector, name, { strict: true, ...options });\n  }\n\n  async hover(options: channels.ElementHandleHoverOptions = {}): Promise<void> {\n    return await this._frame.hover(this._selector, { strict: true, ...options });\n  }\n\n  async innerHTML(options?: TimeoutOptions): Promise<string> {\n    return await this._frame.innerHTML(this._selector, { strict: true, ...options });\n  }\n\n  async innerText(options?: TimeoutOptions): Promise<string> {\n    return await this._frame.innerText(this._selector, { strict: true, ...options });\n  }\n\n  async inputValue(options?: TimeoutOptions): Promise<string> {\n    return await this._frame.inputValue(this._selector, { strict: true, ...options });\n  }\n\n  async isChecked(options?: TimeoutOptions): Promise<boolean> {\n    return await this._frame.isChecked(this._selector, { strict: true, ...options });\n  }\n\n  async isDisabled(options?: TimeoutOptions): Promise<boolean> {\n    return await this._frame.isDisabled(this._selector, { strict: true, ...options });\n  }\n\n  async isEditable(options?: TimeoutOptions): Promise<boolean> {\n    return await this._frame.isEditable(this._selector, { strict: true, ...options });\n  }\n\n  async isEnabled(options?: TimeoutOptions): Promise<boolean> {\n    return await this._frame.isEnabled(this._selector, { strict: true, ...options });\n  }\n\n  async isHidden(options?: TimeoutOptions): Promise<boolean> {\n    return await this._frame.isHidden(this._selector, { strict: true, ...options });\n  }\n\n  async isVisible(options?: TimeoutOptions): Promise<boolean> {\n    return await this._frame.isVisible(this._selector, { strict: true, ...options });\n  }\n\n  async press(key: string, options: channels.ElementHandlePressOptions = {}): Promise<void> {\n    return await this._frame.press(this._selector, key, { strict: true, ...options });\n  }\n\n  async screenshot(options: Omit<channels.ElementHandleScreenshotOptions, 'mask'> & { path?: string, mask?: Locator[] } = {}): Promise<Buffer> {\n    return await this._withElement((h, timeout) => h.screenshot({ ...options, timeout }), options.timeout);\n  }\n\n  async scrollIntoViewIfNeeded(options: channels.ElementHandleScrollIntoViewIfNeededOptions = {}) {\n    return await this._withElement((h, timeout) => h.scrollIntoViewIfNeeded({ ...options, timeout }), options.timeout);\n  }\n\n  async selectOption(values: string | api.ElementHandle | SelectOption | string[] | api.ElementHandle[] | SelectOption[] | null, options: SelectOptionOptions = {}): Promise<string[]> {\n    return await this._frame.selectOption(this._selector, values, { strict: true, ...options });\n  }\n\n  async selectText(options: channels.ElementHandleSelectTextOptions = {}): Promise<void> {\n    return await this._withElement((h, timeout) => h.selectText({ ...options, timeout }), options.timeout);\n  }\n\n  async setChecked(checked: boolean, options?: channels.ElementHandleCheckOptions) {\n    if (checked)\n      await this.check(options);\n    else\n      await this.uncheck(options);\n  }\n\n  async setInputFiles(files: string | FilePayload | string[] | FilePayload[], options: channels.ElementHandleSetInputFilesOptions = {}) {\n    return await this._frame.setInputFiles(this._selector, files, { strict: true, ...options });\n  }\n\n  async tap(options: channels.ElementHandleTapOptions = {}): Promise<void> {\n    return await this._frame.tap(this._selector, { strict: true, ...options });\n  }\n\n  async textContent(options?: TimeoutOptions): Promise<string | null> {\n    return await this._frame.textContent(this._selector, { strict: true, ...options });\n  }\n\n  async type(text: string, options: channels.ElementHandleTypeOptions = {}): Promise<void> {\n    return await this._frame.type(this._selector, text, { strict: true, ...options });\n  }\n\n  async pressSequentially(text: string, options: channels.ElementHandleTypeOptions = {}): Promise<void> {\n    return await this.type(text, options);\n  }\n\n  async uncheck(options: channels.ElementHandleUncheckOptions = {}) {\n    return await this._frame.uncheck(this._selector, { strict: true, ...options });\n  }\n\n  async all(): Promise<Locator[]> {\n    return new Array(await this.count()).fill(0).map((e, i) => this.nth(i));\n  }\n\n  async allInnerTexts(): Promise<string[]> {\n    return await this._frame.$$eval(this._selector, ee => ee.map(e => (e as HTMLElement).innerText));\n  }\n\n  async allTextContents(): Promise<string[]> {\n    return await this._frame.$$eval(this._selector, ee => ee.map(e => e.textContent || ''));\n  }\n\n  waitFor(options: channels.FrameWaitForSelectorOptions & { state: 'attached' | 'visible' }): Promise<void>;\n  waitFor(options?: channels.FrameWaitForSelectorOptions): Promise<void>;\n  async waitFor(options?: channels.FrameWaitForSelectorOptions): Promise<void> {\n    await this._frame._channel.waitForSelector({ selector: this._selector, strict: true, omitReturnValue: true, ...options });\n  }\n\n  async _expect(expression: string, options: Omit<FrameExpectOptions, 'expectedValue'> & { expectedValue?: any }): Promise<{ matches: boolean, received?: any, log?: string[], timedOut?: boolean }> {\n    const params: channels.FrameExpectParams = { selector: this._selector, expression, ...options, isNot: !!options.isNot };\n    params.expectedValue = serializeArgument(options.expectedValue);\n    const result = (await this._frame._channel.expect(params));\n    if (result.received !== undefined)\n      result.received = parseResult(result.received);\n    return result;\n  }\n\n  [util.inspect.custom]() {\n    return this.toString();\n  }\n\n  toString() {\n    return asLocator('javascript', this._selector);\n  }\n}\n\nexport class FrameLocator implements api.FrameLocator {\n  private _frame: Frame;\n  private _frameSelector: string;\n\n  constructor(frame: Frame, selector: string) {\n    this._frame = frame;\n    this._frameSelector = selector;\n  }\n\n  locator(selectorOrLocator: string | Locator, options?: LocatorOptions): Locator {\n    if (isString(selectorOrLocator))\n      return new Locator(this._frame, this._frameSelector + ' >> internal:control=enter-frame >> ' + selectorOrLocator, options);\n    if (selectorOrLocator._frame !== this._frame)\n      throw new Error(`Locators must belong to the same frame.`);\n    return new Locator(this._frame, this._frameSelector + ' >> internal:control=enter-frame >> ' + selectorOrLocator._selector, options);\n  }\n\n  getByTestId(testId: string | RegExp): Locator {\n    return this.locator(getByTestIdSelector(testIdAttributeName(), testId));\n  }\n\n  getByAltText(text: string | RegExp, options?: { exact?: boolean }): Locator {\n    return this.locator(getByAltTextSelector(text, options));\n  }\n\n  getByLabel(text: string | RegExp, options?: { exact?: boolean }): Locator {\n    return this.locator(getByLabelSelector(text, options));\n  }\n\n  getByPlaceholder(text: string | RegExp, options?: { exact?: boolean }): Locator {\n    return this.locator(getByPlaceholderSelector(text, options));\n  }\n\n  getByText(text: string | RegExp, options?: { exact?: boolean }): Locator {\n    return this.locator(getByTextSelector(text, options));\n  }\n\n  getByTitle(text: string | RegExp, options?: { exact?: boolean }): Locator {\n    return this.locator(getByTitleSelector(text, options));\n  }\n\n  getByRole(role: string, options: ByRoleOptions = {}): Locator {\n    return this.locator(getByRoleSelector(role, options));\n  }\n\n  owner() {\n    return new Locator(this._frame, this._frameSelector);\n  }\n\n  frameLocator(selector: string): FrameLocator {\n    return new FrameLocator(this._frame, this._frameSelector + ' >> internal:control=enter-frame >> ' + selector);\n  }\n\n  first(): FrameLocator {\n    return new FrameLocator(this._frame, this._frameSelector + ' >> nth=0');\n  }\n\n  last(): FrameLocator {\n    return new FrameLocator(this._frame, this._frameSelector + ` >> nth=-1`);\n  }\n\n  nth(index: number): FrameLocator {\n    return new FrameLocator(this._frame, this._frameSelector + ` >> nth=${index}`);\n  }\n}\n\nlet _testIdAttributeName: string = 'data-testid';\n\nexport function testIdAttributeName(): string {\n  return _testIdAttributeName;\n}\n\nexport function setTestIdAttribute(attributeName: string) {\n  _testIdAttributeName = attributeName;\n}\n"],"mappings":"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"}