{"version":3,"file":"download.js","names":["Download","constructor","page","url","suggestedFilename","artifact","_page","_url","_suggestedFilename","_artifact","path","pathAfterFinished","saveAs","failure","createReadStream","cancel","delete","exports"],"sources":["../../src/client/download.ts"],"sourcesContent":["/**\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { Readable } from 'stream';\nimport type * as api from '../../types/types';\nimport type { Artifact } from './artifact';\nimport type { Page } from './page';\n\nexport class Download implements api.Download {\n  private _page: Page;\n  private _url: string;\n  private _suggestedFilename: string;\n  private _artifact: Artifact;\n\n  constructor(page: Page, url: string, suggestedFilename: string, artifact: Artifact) {\n    this._page = page;\n    this._url = url;\n    this._suggestedFilename = suggestedFilename;\n    this._artifact = artifact;\n  }\n\n  page(): Page {\n    return this._page;\n  }\n\n  url(): string {\n    return this._url;\n  }\n\n  suggestedFilename(): string {\n    return this._suggestedFilename;\n  }\n\n  async path(): Promise<string> {\n    return await this._artifact.pathAfterFinished();\n  }\n\n  async saveAs(path: string): Promise<void> {\n    return await this._artifact.saveAs(path);\n  }\n\n  async failure(): Promise<string | null> {\n    return await this._artifact.failure();\n  }\n\n  async createReadStream(): Promise<Readable> {\n    return await this._artifact.createReadStream();\n  }\n\n  async cancel(): Promise<void> {\n    return await this._artifact.cancel();\n  }\n\n  async delete(): Promise<void> {\n    return await this._artifact.delete();\n  }\n}\n"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAOO,MAAMA,QAAQ,CAAyB;EAM5CC,WAAWA,CAACC,IAAU,EAAEC,GAAW,EAAEC,iBAAyB,EAAEC,QAAkB,EAAE;IAAA,KAL5EC,KAAK;IAAA,KACLC,IAAI;IAAA,KACJC,kBAAkB;IAAA,KAClBC,SAAS;IAGf,IAAI,CAACH,KAAK,GAAGJ,IAAI;IACjB,IAAI,CAACK,IAAI,GAAGJ,GAAG;IACf,IAAI,CAACK,kBAAkB,GAAGJ,iBAAiB;IAC3C,IAAI,CAACK,SAAS,GAAGJ,QAAQ;EAC3B;EAEAH,IAAIA,CAAA,EAAS;IACX,OAAO,IAAI,CAACI,KAAK;EACnB;EAEAH,GAAGA,CAAA,EAAW;IACZ,OAAO,IAAI,CAACI,IAAI;EAClB;EAEAH,iBAAiBA,CAAA,EAAW;IAC1B,OAAO,IAAI,CAACI,kBAAkB;EAChC;EAEA,MAAME,IAAIA,CAAA,EAAoB;IAC5B,OAAO,MAAM,IAAI,CAACD,SAAS,CAACE,iBAAiB,CAAC,CAAC;EACjD;EAEA,MAAMC,MAAMA,CAACF,IAAY,EAAiB;IACxC,OAAO,MAAM,IAAI,CAACD,SAAS,CAACG,MAAM,CAACF,IAAI,CAAC;EAC1C;EAEA,MAAMG,OAAOA,CAAA,EAA2B;IACtC,OAAO,MAAM,IAAI,CAACJ,SAAS,CAACI,OAAO,CAAC,CAAC;EACvC;EAEA,MAAMC,gBAAgBA,CAAA,EAAsB;IAC1C,OAAO,MAAM,IAAI,CAACL,SAAS,CAACK,gBAAgB,CAAC,CAAC;EAChD;EAEA,MAAMC,MAAMA,CAAA,EAAkB;IAC5B,OAAO,MAAM,IAAI,CAACN,SAAS,CAACM,MAAM,CAAC,CAAC;EACtC;EAEA,MAAMC,MAAMA,CAAA,EAAkB;IAC5B,OAAO,MAAM,IAAI,CAACP,SAAS,CAACO,MAAM,CAAC,CAAC;EACtC;AACF;AAACC,OAAA,CAAAjB,QAAA,GAAAA,QAAA"}