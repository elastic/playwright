{"version":3,"file":"dialog.js","names":["_channelOwner","require","_page","Dialog","ChannelOwner","from","dialog","_object","constructor","parent","type","guid","initializer","Page","fromNullable","page","_initializer","message","defaultValue","accept","promptText","_channel","dismiss","exports"],"sources":["../../src/client/dialog.ts"],"sourcesContent":["/**\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type * as channels from '@protocol/channels';\nimport { ChannelOwner } from './channelOwner';\nimport type * as api from '../../types/types';\nimport { Page } from './page';\n\nexport class Dialog extends ChannelOwner<channels.DialogChannel> implements api.Dialog {\n  static from(dialog: channels.DialogChannel): Dialog {\n    return (dialog as any)._object;\n  }\n\n  private _page: Page | null;\n\n  constructor(parent: ChannelOwner, type: string, guid: string, initializer: channels.DialogInitializer) {\n    super(parent, type, guid, initializer);\n    // Note: dialogs that open early during page initialization block it.\n    // Therefore, we must report the dialog without a page to be able to handle it.\n    this._page = Page.fromNullable(initializer.page);\n  }\n\n  page() {\n    return this._page;\n  }\n\n  type(): string {\n    return this._initializer.type;\n  }\n\n  message(): string {\n    return this._initializer.message;\n  }\n\n  defaultValue(): string {\n    return this._initializer.defaultValue;\n  }\n\n  async accept(promptText: string | undefined) {\n    await this._channel.accept({ promptText });\n  }\n\n  async dismiss() {\n    await this._channel.dismiss();\n  }\n}\n"],"mappings":";;;;;;AAiBA,IAAAA,aAAA,GAAAC,OAAA;AAEA,IAAAC,KAAA,GAAAD,OAAA;AAnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAOO,MAAME,MAAM,SAASC,0BAAY,CAA+C;EACrF,OAAOC,IAAIA,CAACC,MAA8B,EAAU;IAClD,OAAQA,MAAM,CAASC,OAAO;EAChC;EAIAC,WAAWA,CAACC,MAAoB,EAAEC,IAAY,EAAEC,IAAY,EAAEC,WAAuC,EAAE;IACrG,KAAK,CAACH,MAAM,EAAEC,IAAI,EAAEC,IAAI,EAAEC,WAAW,CAAC;IACtC;IACA;IAAA,KALMV,KAAK;IAMX,IAAI,CAACA,KAAK,GAAGW,UAAI,CAACC,YAAY,CAACF,WAAW,CAACG,IAAI,CAAC;EAClD;EAEAA,IAAIA,CAAA,EAAG;IACL,OAAO,IAAI,CAACb,KAAK;EACnB;EAEAQ,IAAIA,CAAA,EAAW;IACb,OAAO,IAAI,CAACM,YAAY,CAACN,IAAI;EAC/B;EAEAO,OAAOA,CAAA,EAAW;IAChB,OAAO,IAAI,CAACD,YAAY,CAACC,OAAO;EAClC;EAEAC,YAAYA,CAAA,EAAW;IACrB,OAAO,IAAI,CAACF,YAAY,CAACE,YAAY;EACvC;EAEA,MAAMC,MAAMA,CAACC,UAA8B,EAAE;IAC3C,MAAM,IAAI,CAACC,QAAQ,CAACF,MAAM,CAAC;MAAEC;IAAW,CAAC,CAAC;EAC5C;EAEA,MAAME,OAAOA,CAAA,EAAG;IACd,MAAM,IAAI,CAACD,QAAQ,CAACC,OAAO,CAAC,CAAC;EAC/B;AACF;AAACC,OAAA,CAAApB,MAAA,GAAAA,MAAA"}