{"version":3,"file":"frame.js","names":["_utils","require","_channelOwner","_locator","_locatorUtils","_elementHandle","_jsHandle","_fs","_interopRequireDefault","network","_interopRequireWildcard","_events","_waiter","_events2","_types","_clientHelper","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","obj","Frame","ChannelOwner","from","frame","_object","fromNullable","constructor","parent","type","guid","initializer","_eventEmitter","_loadStates","_parentFrame","_url","_name","_detached","_childFrames","Set","_page","EventEmitter","setMaxListeners","parentFrame","add","name","url","loadStates","_channel","on","event","emit","remove","delete","Events","Page","Load","DOMContentLoaded","error","FrameNavigated","page","goto","options","waitUntil","verifyLoadState","undefined","Response","response","_setupNavigationWaiter","waiter","Waiter","isClosed","rejectImmediately","_closeErrorWithReason","rejectOnEvent","Close","Crash","Error","FrameDetached","timeout","_timeoutSettings","navigationTimeout","rejectOnTimeout","waitForNavigation","_wrapApiCall","toUrl","log","navigatedEvent","waitForEvent","_this$_page","urlMatches","context","_options","baseURL","stack","waitForPromise","Promise","reject","s","request","newDocument","Request","_finalRequest","_internalResponse","dispose","waitForLoadState","state","waitForURL","_this$_page2","frameElement","ElementHandle","element","evaluateHandle","pageFunction","arg","assertMaxArguments","arguments","length","result","evaluateExpressionHandle","expression","String","isFunction","serializeArgument","JSHandle","handle","evaluate","evaluateExpression","parseResult","value","_evaluateExposeUtilityScript","$","selector","querySelector","waitForSelector","visibility","waitFor","dispatchEvent","eventInit","$eval","evalOnSelector","$$eval","evalOnSelectorAll","$$","querySelectorAll","elements","map","_queryCount","queryCount","content","setContent","html","childFrames","Array","isDetached","addScriptTag","copy","path","fs","promises","readFile","toString","addSourceUrlToScript","addStyleTag","replace","click","dblclick","dragAndDrop","source","target","tap","fill","_highlight","highlight","locator","Locator","getByTestId","testId","getByTestIdSelector","testIdAttributeName","getByAltText","text","getByAltTextSelector","getByLabel","getByLabelSelector","getByPlaceholder","getByPlaceholderSelector","getByText","getByTextSelector","getByTitle","getByTitleSelector","getByRole","role","getByRoleSelector","frameLocator","FrameLocator","focus","textContent","innerText","innerHTML","getAttribute","inputValue","isChecked","isDisabled","isEditable","isEnabled","isHidden","isVisible","hover","selectOption","values","convertSelectOptionValues","setInputFiles","files","converted","convertInputFiles","press","key","check","uncheck","setChecked","checked","waitForTimeout","waitForFunction","polling","assert","pollingInterval","title","exports","kLifecycleEvents"],"sources":["../../src/client/frame.ts"],"sourcesContent":["/**\n * Copyright 2017 Google Inc. All rights reserved.\n * Modifications copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert } from '../utils';\nimport type * as channels from '@protocol/channels';\nimport { ChannelOwner } from './channelOwner';\nimport { FrameLocator, Locator, testIdAttributeName } from './locator';\nimport type { LocatorOptions } from './locator';\nimport { getByAltTextSelector, getByLabelSelector, getByPlaceholderSelector, getByRoleSelector, getByTestIdSelector, getByTextSelector, getByTitleSelector } from '../utils/isomorphic/locatorUtils';\nimport type { ByRoleOptions } from '../utils/isomorphic/locatorUtils';\nimport { ElementHandle, convertSelectOptionValues, convertInputFiles } from './elementHandle';\nimport { assertMaxArguments, JSHandle, serializeArgument, parseResult } from './jsHandle';\nimport fs from 'fs';\nimport * as network from './network';\nimport type { Page } from './page';\nimport { EventEmitter } from 'events';\nimport { Waiter } from './waiter';\nimport { Events } from './events';\nimport type { LifecycleEvent, SelectOption, SelectOptionOptions, FilePayload, WaitForFunctionOptions, StrictOptions } from './types';\nimport { kLifecycleEvents } from './types';\nimport { type URLMatch, urlMatches } from '../utils';\nimport type * as api from '../../types/types';\nimport type * as structs from '../../types/structs';\nimport { addSourceUrlToScript } from './clientHelper';\n\nexport type WaitForNavigationOptions = {\n  timeout?: number,\n  waitUntil?: LifecycleEvent,\n  url?: URLMatch,\n};\n\nexport class Frame extends ChannelOwner<channels.FrameChannel> implements api.Frame {\n  _eventEmitter: EventEmitter;\n  _loadStates: Set<LifecycleEvent>;\n  _parentFrame: Frame | null = null;\n  _url = '';\n  _name = '';\n  _detached = false;\n  _childFrames = new Set<Frame>();\n  _page: Page | undefined;\n\n  static from(frame: channels.FrameChannel): Frame {\n    return (frame as any)._object;\n  }\n\n  static fromNullable(frame: channels.FrameChannel | undefined): Frame | null {\n    return frame ? Frame.from(frame) : null;\n  }\n\n  constructor(parent: ChannelOwner, type: string, guid: string, initializer: channels.FrameInitializer) {\n    super(parent, type, guid, initializer);\n    this._eventEmitter = new EventEmitter();\n    this._eventEmitter.setMaxListeners(0);\n    this._parentFrame = Frame.fromNullable(initializer.parentFrame);\n    if (this._parentFrame)\n      this._parentFrame._childFrames.add(this);\n    this._name = initializer.name;\n    this._url = initializer.url;\n    this._loadStates = new Set(initializer.loadStates);\n    this._channel.on('loadstate', event => {\n      if (event.add) {\n        this._loadStates.add(event.add);\n        this._eventEmitter.emit('loadstate', event.add);\n      }\n      if (event.remove)\n        this._loadStates.delete(event.remove);\n      if (!this._parentFrame && event.add === 'load' && this._page)\n        this._page.emit(Events.Page.Load, this._page);\n      if (!this._parentFrame && event.add === 'domcontentloaded' && this._page)\n        this._page.emit(Events.Page.DOMContentLoaded, this._page);\n    });\n    this._channel.on('navigated', event => {\n      this._url = event.url;\n      this._name = event.name;\n      this._eventEmitter.emit('navigated', event);\n      if (!event.error && this._page)\n        this._page.emit(Events.Page.FrameNavigated, this);\n    });\n  }\n\n  page(): Page {\n    return this._page!;\n  }\n\n  async goto(url: string, options: channels.FrameGotoOptions = {}): Promise<network.Response | null> {\n    const waitUntil = verifyLoadState('waitUntil', options.waitUntil === undefined ? 'load' : options.waitUntil);\n    return network.Response.fromNullable((await this._channel.goto({ url, ...options, waitUntil })).response);\n  }\n\n  private _setupNavigationWaiter(options: { timeout?: number }): Waiter {\n    const waiter = new Waiter(this._page!, '');\n    if (this._page!.isClosed())\n      waiter.rejectImmediately(this._page!._closeErrorWithReason());\n    waiter.rejectOnEvent(this._page!, Events.Page.Close, () => this._page!._closeErrorWithReason());\n    waiter.rejectOnEvent(this._page!, Events.Page.Crash, new Error('Navigation failed because page crashed!'));\n    waiter.rejectOnEvent<Frame>(this._page!, Events.Page.FrameDetached, new Error('Navigating frame was detached!'), frame => frame === this);\n    const timeout = this._page!._timeoutSettings.navigationTimeout(options);\n    waiter.rejectOnTimeout(timeout, `Timeout ${timeout}ms exceeded.`);\n    return waiter;\n  }\n\n  async waitForNavigation(options: WaitForNavigationOptions = {}): Promise<network.Response | null> {\n    return await this._page!._wrapApiCall(async () => {\n      const waitUntil = verifyLoadState('waitUntil', options.waitUntil === undefined ? 'load' : options.waitUntil);\n      const waiter = this._setupNavigationWaiter(options);\n\n      const toUrl = typeof options.url === 'string' ? ` to \"${options.url}\"` : '';\n      waiter.log(`waiting for navigation${toUrl} until \"${waitUntil}\"`);\n\n      const navigatedEvent = await waiter.waitForEvent<channels.FrameNavigatedEvent>(this._eventEmitter, 'navigated', event => {\n        // Any failed navigation results in a rejection.\n        if (event.error)\n          return true;\n        waiter.log(`  navigated to \"${event.url}\"`);\n        return urlMatches(this._page?.context()._options.baseURL, event.url, options.url);\n      });\n      if (navigatedEvent.error) {\n        const e = new Error(navigatedEvent.error);\n        e.stack = '';\n        await waiter.waitForPromise(Promise.reject(e));\n      }\n\n      if (!this._loadStates.has(waitUntil)) {\n        await waiter.waitForEvent<LifecycleEvent>(this._eventEmitter, 'loadstate', s => {\n          waiter.log(`  \"${s}\" event fired`);\n          return s === waitUntil;\n        });\n      }\n\n      const request = navigatedEvent.newDocument ? network.Request.fromNullable(navigatedEvent.newDocument.request) : null;\n      const response = request ? await waiter.waitForPromise(request._finalRequest()._internalResponse()) : null;\n      waiter.dispose();\n      return response;\n    });\n  }\n\n  async waitForLoadState(state: LifecycleEvent = 'load', options: { timeout?: number } = {}): Promise<void> {\n    state = verifyLoadState('state', state);\n    return await this._page!._wrapApiCall(async () => {\n      const waiter = this._setupNavigationWaiter(options);\n      if (this._loadStates.has(state)) {\n        waiter.log(`  not waiting, \"${state}\" event already fired`);\n      } else {\n        await waiter.waitForEvent<LifecycleEvent>(this._eventEmitter, 'loadstate', s => {\n          waiter.log(`  \"${s}\" event fired`);\n          return s === state;\n        });\n      }\n      waiter.dispose();\n    });\n  }\n\n  async waitForURL(url: URLMatch, options: { waitUntil?: LifecycleEvent, timeout?: number } = {}): Promise<void> {\n    if (urlMatches(this._page?.context()._options.baseURL, this.url(), url))\n      return await this.waitForLoadState(options.waitUntil, options);\n\n    await this.waitForNavigation({ url, ...options });\n  }\n\n  async frameElement(): Promise<ElementHandle> {\n    return ElementHandle.from((await this._channel.frameElement()).element);\n  }\n\n  async evaluateHandle<R, Arg>(pageFunction: structs.PageFunction<Arg, R>, arg?: Arg): Promise<structs.SmartHandle<R>> {\n    assertMaxArguments(arguments.length, 2);\n    const result = await this._channel.evaluateExpressionHandle({ expression: String(pageFunction), isFunction: typeof pageFunction === 'function', arg: serializeArgument(arg) });\n    return JSHandle.from(result.handle) as any as structs.SmartHandle<R>;\n  }\n\n  async evaluate<R, Arg>(pageFunction: structs.PageFunction<Arg, R>, arg?: Arg): Promise<R> {\n    assertMaxArguments(arguments.length, 2);\n    const result = await this._channel.evaluateExpression({ expression: String(pageFunction), isFunction: typeof pageFunction === 'function', arg: serializeArgument(arg) });\n    return parseResult(result.value);\n  }\n\n  async _evaluateExposeUtilityScript<R, Arg>(pageFunction: structs.PageFunction<Arg, R>, arg?: Arg): Promise<R> {\n    assertMaxArguments(arguments.length, 2);\n    const result = await this._channel.evaluateExpression({ expression: String(pageFunction), isFunction: typeof pageFunction === 'function', arg: serializeArgument(arg) });\n    return parseResult(result.value);\n  }\n\n  async $(selector: string, options?: { strict?: boolean }): Promise<ElementHandle<SVGElement | HTMLElement> | null> {\n    const result = await this._channel.querySelector({ selector, ...options });\n    return ElementHandle.fromNullable(result.element) as ElementHandle<SVGElement | HTMLElement> | null;\n  }\n\n  waitForSelector(selector: string, options: channels.FrameWaitForSelectorOptions & { state: 'attached' | 'visible' }): Promise<ElementHandle<SVGElement | HTMLElement>>;\n  waitForSelector(selector: string, options?: channels.FrameWaitForSelectorOptions): Promise<ElementHandle<SVGElement | HTMLElement> | null>;\n  async waitForSelector(selector: string, options: channels.FrameWaitForSelectorOptions = {}): Promise<ElementHandle<SVGElement | HTMLElement> | null> {\n    if ((options as any).visibility)\n      throw new Error('options.visibility is not supported, did you mean options.state?');\n    if ((options as any).waitFor && (options as any).waitFor !== 'visible')\n      throw new Error('options.waitFor is not supported, did you mean options.state?');\n    const result = await this._channel.waitForSelector({ selector, ...options });\n    return ElementHandle.fromNullable(result.element) as ElementHandle<SVGElement | HTMLElement> | null;\n  }\n\n  async dispatchEvent(selector: string, type: string, eventInit?: any, options: channels.FrameDispatchEventOptions = {}): Promise<void> {\n    await this._channel.dispatchEvent({ selector, type, eventInit: serializeArgument(eventInit), ...options });\n  }\n\n  async $eval<R, Arg>(selector: string, pageFunction: structs.PageFunctionOn<Element, Arg, R>, arg?: Arg): Promise<R> {\n    assertMaxArguments(arguments.length, 3);\n    const result = await this._channel.evalOnSelector({ selector, expression: String(pageFunction), isFunction: typeof pageFunction === 'function', arg: serializeArgument(arg) });\n    return parseResult(result.value);\n  }\n\n  async $$eval<R, Arg>(selector: string, pageFunction: structs.PageFunctionOn<Element[], Arg, R>, arg?: Arg): Promise<R> {\n    assertMaxArguments(arguments.length, 3);\n    const result = await this._channel.evalOnSelectorAll({ selector, expression: String(pageFunction), isFunction: typeof pageFunction === 'function', arg: serializeArgument(arg) });\n    return parseResult(result.value);\n  }\n\n  async $$(selector: string): Promise<ElementHandle<SVGElement | HTMLElement>[]> {\n    const result = await this._channel.querySelectorAll({ selector });\n    return result.elements.map(e => ElementHandle.from(e) as ElementHandle<SVGElement | HTMLElement>);\n  }\n\n  async _queryCount(selector: string): Promise<number> {\n    return (await this._channel.queryCount({ selector })).value;\n  }\n\n  async content(): Promise<string> {\n    return (await this._channel.content()).value;\n  }\n\n  async setContent(html: string, options: channels.FrameSetContentOptions = {}): Promise<void> {\n    const waitUntil = verifyLoadState('waitUntil', options.waitUntil === undefined ? 'load' : options.waitUntil);\n    await this._channel.setContent({ html, ...options, waitUntil });\n  }\n\n  name(): string {\n    return this._name || '';\n  }\n\n  url(): string {\n    return this._url;\n  }\n\n  parentFrame(): Frame | null {\n    return this._parentFrame;\n  }\n\n  childFrames(): Frame[] {\n    return Array.from(this._childFrames);\n  }\n\n  isDetached(): boolean {\n    return this._detached;\n  }\n\n  async addScriptTag(options: { url?: string, path?: string, content?: string, type?: string } = {}): Promise<ElementHandle> {\n    const copy = { ...options };\n    if (copy.path) {\n      copy.content = (await fs.promises.readFile(copy.path)).toString();\n      copy.content = addSourceUrlToScript(copy.content, copy.path);\n    }\n    return ElementHandle.from((await this._channel.addScriptTag({ ...copy })).element);\n  }\n\n  async addStyleTag(options: { url?: string; path?: string; content?: string; } = {}): Promise<ElementHandle> {\n    const copy = { ...options };\n    if (copy.path) {\n      copy.content = (await fs.promises.readFile(copy.path)).toString();\n      copy.content += '/*# sourceURL=' + copy.path.replace(/\\n/g, '') + '*/';\n    }\n    return ElementHandle.from((await this._channel.addStyleTag({ ...copy })).element);\n  }\n\n  async click(selector: string, options: channels.FrameClickOptions = {}) {\n    return await this._channel.click({ selector, ...options });\n  }\n\n  async dblclick(selector: string, options: channels.FrameDblclickOptions = {}) {\n    return await this._channel.dblclick({ selector, ...options });\n  }\n\n  async dragAndDrop(source: string, target: string, options: channels.FrameDragAndDropOptions = {}) {\n    return await this._channel.dragAndDrop({ source, target, ...options });\n  }\n\n  async tap(selector: string, options: channels.FrameTapOptions = {}) {\n    return await this._channel.tap({ selector, ...options });\n  }\n\n  async fill(selector: string, value: string, options: channels.FrameFillOptions = {}) {\n    return await this._channel.fill({ selector, value, ...options });\n  }\n\n  async _highlight(selector: string) {\n    return await this._channel.highlight({ selector });\n  }\n\n  locator(selector: string, options?: LocatorOptions): Locator {\n    return new Locator(this, selector, options);\n  }\n\n  getByTestId(testId: string | RegExp): Locator {\n    return this.locator(getByTestIdSelector(testIdAttributeName(), testId));\n  }\n\n  getByAltText(text: string | RegExp, options?: { exact?: boolean }): Locator {\n    return this.locator(getByAltTextSelector(text, options));\n  }\n\n  getByLabel(text: string | RegExp, options?: { exact?: boolean }): Locator {\n    return this.locator(getByLabelSelector(text, options));\n  }\n\n  getByPlaceholder(text: string | RegExp, options?: { exact?: boolean }): Locator {\n    return this.locator(getByPlaceholderSelector(text, options));\n  }\n\n  getByText(text: string | RegExp, options?: { exact?: boolean }): Locator {\n    return this.locator(getByTextSelector(text, options));\n  }\n\n  getByTitle(text: string | RegExp, options?: { exact?: boolean }): Locator {\n    return this.locator(getByTitleSelector(text, options));\n  }\n\n  getByRole(role: string, options: ByRoleOptions = {}): Locator {\n    return this.locator(getByRoleSelector(role, options));\n  }\n\n  frameLocator(selector: string): FrameLocator {\n    return new FrameLocator(this, selector);\n  }\n\n  async focus(selector: string, options: channels.FrameFocusOptions = {}) {\n    await this._channel.focus({ selector, ...options });\n  }\n\n  async textContent(selector: string, options: channels.FrameTextContentOptions = {}): Promise<null|string> {\n    const value = (await this._channel.textContent({ selector, ...options })).value;\n    return value === undefined ? null : value;\n  }\n\n  async innerText(selector: string, options: channels.FrameInnerTextOptions = {}): Promise<string> {\n    return (await this._channel.innerText({ selector, ...options })).value;\n  }\n\n  async innerHTML(selector: string, options: channels.FrameInnerHTMLOptions = {}): Promise<string> {\n    return (await this._channel.innerHTML({ selector, ...options })).value;\n  }\n\n  async getAttribute(selector: string, name: string, options: channels.FrameGetAttributeOptions = {}): Promise<string | null> {\n    const value = (await this._channel.getAttribute({ selector, name, ...options })).value;\n    return value === undefined ? null : value;\n  }\n\n  async inputValue(selector: string, options: channels.FrameInputValueOptions = {}): Promise<string> {\n    return (await this._channel.inputValue({ selector, ...options })).value;\n  }\n\n  async isChecked(selector: string, options: channels.FrameIsCheckedOptions = {}): Promise<boolean> {\n    return (await this._channel.isChecked({ selector, ...options })).value;\n  }\n\n  async isDisabled(selector: string, options: channels.FrameIsDisabledOptions = {}): Promise<boolean> {\n    return (await this._channel.isDisabled({ selector, ...options })).value;\n  }\n\n  async isEditable(selector: string, options: channels.FrameIsEditableOptions = {}): Promise<boolean> {\n    return (await this._channel.isEditable({ selector, ...options })).value;\n  }\n\n  async isEnabled(selector: string, options: channels.FrameIsEnabledOptions = {}): Promise<boolean> {\n    return (await this._channel.isEnabled({ selector, ...options })).value;\n  }\n\n  async isHidden(selector: string, options: channels.FrameIsHiddenOptions = {}): Promise<boolean> {\n    return (await this._channel.isHidden({ selector, ...options })).value;\n  }\n\n  async isVisible(selector: string, options: channels.FrameIsVisibleOptions = {}): Promise<boolean> {\n    return (await this._channel.isVisible({ selector, ...options })).value;\n  }\n\n  async hover(selector: string, options: channels.FrameHoverOptions = {}) {\n    await this._channel.hover({ selector, ...options });\n  }\n\n  async selectOption(selector: string, values: string | api.ElementHandle | SelectOption | string[] | api.ElementHandle[] | SelectOption[] | null, options: SelectOptionOptions & StrictOptions = {}): Promise<string[]> {\n    return (await this._channel.selectOption({ selector, ...convertSelectOptionValues(values), ...options })).values;\n  }\n\n  async setInputFiles(selector: string, files: string | FilePayload | string[] | FilePayload[], options: channels.FrameSetInputFilesOptions = {}): Promise<void> {\n    const converted = await convertInputFiles(files, this.page().context());\n    await this._channel.setInputFiles({ selector, ...converted, ...options });\n  }\n\n  async type(selector: string, text: string, options: channels.FrameTypeOptions = {}) {\n    await this._channel.type({ selector, text, ...options });\n  }\n\n  async press(selector: string, key: string, options: channels.FramePressOptions = {}) {\n    await this._channel.press({ selector, key, ...options });\n  }\n\n  async check(selector: string, options: channels.FrameCheckOptions = {}) {\n    await this._channel.check({ selector, ...options });\n  }\n\n  async uncheck(selector: string, options: channels.FrameUncheckOptions = {}) {\n    await this._channel.uncheck({ selector, ...options });\n  }\n\n  async setChecked(selector: string, checked: boolean, options?: channels.FrameCheckOptions) {\n    if (checked)\n      await this.check(selector, options);\n    else\n      await this.uncheck(selector, options);\n  }\n\n  async waitForTimeout(timeout: number) {\n    await this._channel.waitForTimeout({ timeout });\n  }\n\n  async waitForFunction<R, Arg>(pageFunction: structs.PageFunction<Arg, R>, arg?: Arg, options: WaitForFunctionOptions = {}): Promise<structs.SmartHandle<R>> {\n    if (typeof options.polling === 'string')\n      assert(options.polling === 'raf', 'Unknown polling option: ' + options.polling);\n    const result = await this._channel.waitForFunction({\n      ...options,\n      pollingInterval: options.polling === 'raf' ? undefined : options.polling,\n      expression: String(pageFunction),\n      isFunction: typeof pageFunction === 'function',\n      arg: serializeArgument(arg),\n    });\n    return JSHandle.from(result.handle) as any as structs.SmartHandle<R>;\n  }\n\n  async title(): Promise<string> {\n    return (await this._channel.title()).value;\n  }\n}\n\nexport function verifyLoadState(name: string, waitUntil: LifecycleEvent): LifecycleEvent {\n  if (waitUntil as unknown === 'networkidle0')\n    waitUntil = 'networkidle';\n  if (!kLifecycleEvents.has(waitUntil))\n    throw new Error(`${name}: expected one of (load|domcontentloaded|networkidle|commit)`);\n  return waitUntil;\n}\n"],"mappings":"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"}