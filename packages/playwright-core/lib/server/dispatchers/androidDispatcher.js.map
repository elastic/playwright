{"version":3,"file":"androidDispatcher.js","names":["_dispatcher","require","_android","_browserContextDispatcher","AndroidDispatcher","Dispatcher","constructor","scope","android","_type_Android","devices","params","_object","map","d","AndroidDeviceDispatcher","from","setDefaultTimeoutNoReply","setDefaultTimeout","timeout","exports","device","result","existingDispatcher","model","serial","_type_EventTarget","_type_AndroidDevice","webView","webViews","_dispatchEvent","addObjectListener","AndroidDevice","Events","WebViewAdded","WebViewRemoved","socketName","Close","wait","send","fill","selector","tap","drag","fling","longTap","pinchClose","pinchOpen","scroll","swipe","info","inputType","text","keyCodes","i","length","code","keyMap","get","toUpperCase","undefined","Error","push","Promise","all","keyCode","inputPress","has","key","inputTap","inputSwipe","inputDrag","screenshot","binary","shell","command","open","metadata","socket","AndroidSocketDispatcher","installApk","file","args","path","mode","launchBrowser","context","pkg","BrowserContextDispatcher","close","connectToWebView","_type_AndroidSocket","data","_dispose","write","Map"],"sources":["../../../src/server/dispatchers/androidDispatcher.ts"],"sourcesContent":["/**\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { RootDispatcher } from './dispatcher';\nimport { Dispatcher, existingDispatcher } from './dispatcher';\nimport type { Android, SocketBackend } from '../android/android';\nimport { AndroidDevice } from '../android/android';\nimport type * as channels from '@protocol/channels';\nimport { BrowserContextDispatcher } from './browserContextDispatcher';\nimport type { CallMetadata } from '../instrumentation';\n\nexport class AndroidDispatcher extends Dispatcher<Android, channels.AndroidChannel, RootDispatcher> implements channels.AndroidChannel {\n  _type_Android = true;\n  constructor(scope: RootDispatcher, android: Android) {\n    super(scope, android, 'Android', {});\n  }\n\n  async devices(params: channels.AndroidDevicesParams): Promise<channels.AndroidDevicesResult> {\n    const devices = await this._object.devices(params);\n    return {\n      devices: devices.map(d => AndroidDeviceDispatcher.from(this, d))\n    };\n  }\n\n  async setDefaultTimeoutNoReply(params: channels.AndroidSetDefaultTimeoutNoReplyParams) {\n    this._object.setDefaultTimeout(params.timeout);\n  }\n}\n\nexport class AndroidDeviceDispatcher extends Dispatcher<AndroidDevice, channels.AndroidDeviceChannel, AndroidDispatcher> implements channels.AndroidDeviceChannel {\n  _type_EventTarget = true;\n  _type_AndroidDevice = true;\n\n  static from(scope: AndroidDispatcher, device: AndroidDevice): AndroidDeviceDispatcher {\n    const result = existingDispatcher<AndroidDeviceDispatcher>(device);\n    return result || new AndroidDeviceDispatcher(scope, device);\n  }\n\n  constructor(scope: AndroidDispatcher, device: AndroidDevice) {\n    super(scope, device, 'AndroidDevice', {\n      model: device.model,\n      serial: device.serial,\n    });\n    for (const webView of device.webViews())\n      this._dispatchEvent('webViewAdded', { webView });\n    this.addObjectListener(AndroidDevice.Events.WebViewAdded, webView => this._dispatchEvent('webViewAdded', { webView }));\n    this.addObjectListener(AndroidDevice.Events.WebViewRemoved, socketName => this._dispatchEvent('webViewRemoved', { socketName }));\n    this.addObjectListener(AndroidDevice.Events.Close, socketName => this._dispatchEvent('close'));\n  }\n\n  async wait(params: channels.AndroidDeviceWaitParams) {\n    await this._object.send('wait', params);\n  }\n\n  async fill(params: channels.AndroidDeviceFillParams) {\n    await this._object.send('click', { selector: params.selector });\n    await this._object.send('fill', params);\n  }\n\n  async tap(params: channels.AndroidDeviceTapParams) {\n    await this._object.send('click', params);\n  }\n\n  async drag(params: channels.AndroidDeviceDragParams) {\n    await this._object.send('drag', params);\n  }\n\n  async fling(params: channels.AndroidDeviceFlingParams) {\n    await this._object.send('fling', params);\n  }\n\n  async longTap(params: channels.AndroidDeviceLongTapParams) {\n    await this._object.send('longClick', params);\n  }\n\n  async pinchClose(params: channels.AndroidDevicePinchCloseParams) {\n    await this._object.send('pinchClose', params);\n  }\n\n  async pinchOpen(params: channels.AndroidDevicePinchOpenParams) {\n    await this._object.send('pinchOpen', params);\n  }\n\n  async scroll(params: channels.AndroidDeviceScrollParams) {\n    await this._object.send('scroll', params);\n  }\n\n  async swipe(params: channels.AndroidDeviceSwipeParams) {\n    await this._object.send('swipe', params);\n  }\n\n  async info(params: channels.AndroidDeviceTapParams): Promise<channels.AndroidDeviceInfoResult> {\n    return { info: await this._object.send('info', params) };\n  }\n\n  async inputType(params: channels.AndroidDeviceInputTypeParams) {\n    const text = params.text;\n    const keyCodes: number[] = [];\n    for (let i = 0; i < text.length; ++i) {\n      const code = keyMap.get(text[i].toUpperCase());\n      if (code === undefined)\n        throw new Error('No mapping for ' + text[i] + ' found');\n      keyCodes.push(code);\n    }\n    await Promise.all(keyCodes.map(keyCode => this._object.send('inputPress', { keyCode })));\n  }\n\n  async inputPress(params: channels.AndroidDeviceInputPressParams) {\n    if (!keyMap.has(params.key))\n      throw new Error('Unknown key: ' + params.key);\n    await this._object.send('inputPress', { keyCode: keyMap.get(params.key) });\n  }\n\n  async inputTap(params: channels.AndroidDeviceInputTapParams) {\n    await this._object.send('inputClick', params);\n  }\n\n  async inputSwipe(params: channels.AndroidDeviceInputSwipeParams) {\n    await this._object.send('inputSwipe', params);\n  }\n\n  async inputDrag(params: channels.AndroidDeviceInputDragParams) {\n    await this._object.send('inputDrag', params);\n  }\n\n  async screenshot(params: channels.AndroidDeviceScreenshotParams): Promise<channels.AndroidDeviceScreenshotResult> {\n    return { binary: await this._object.screenshot() };\n  }\n\n  async shell(params: channels.AndroidDeviceShellParams): Promise<channels.AndroidDeviceShellResult> {\n    return { result: await this._object.shell(params.command) };\n  }\n\n  async open(params: channels.AndroidDeviceOpenParams, metadata: CallMetadata): Promise<channels.AndroidDeviceOpenResult> {\n    const socket = await this._object.open(params.command);\n    return { socket: new AndroidSocketDispatcher(this, socket) };\n  }\n\n  async installApk(params: channels.AndroidDeviceInstallApkParams) {\n    await this._object.installApk(params.file, { args: params.args });\n  }\n\n  async push(params: channels.AndroidDevicePushParams) {\n    await this._object.push(params.file, params.path, params.mode);\n  }\n\n  async launchBrowser(params: channels.AndroidDeviceLaunchBrowserParams): Promise<channels.AndroidDeviceLaunchBrowserResult> {\n    const context = await this._object.launchBrowser(params.pkg, params);\n    return { context: new BrowserContextDispatcher(this, context) };\n  }\n\n  async close(params: channels.AndroidDeviceCloseParams) {\n    await this._object.close();\n  }\n\n  async setDefaultTimeoutNoReply(params: channels.AndroidDeviceSetDefaultTimeoutNoReplyParams) {\n    this._object.setDefaultTimeout(params.timeout);\n  }\n\n  async connectToWebView(params: channels.AndroidDeviceConnectToWebViewParams): Promise<channels.AndroidDeviceConnectToWebViewResult> {\n    return { context: new BrowserContextDispatcher(this, await this._object.connectToWebView(params.socketName)) };\n  }\n}\n\nexport class AndroidSocketDispatcher extends Dispatcher<SocketBackend, channels.AndroidSocketChannel, AndroidDeviceDispatcher> implements channels.AndroidSocketChannel {\n  _type_AndroidSocket = true;\n\n  constructor(scope: AndroidDeviceDispatcher, socket: SocketBackend) {\n    super(scope, socket, 'AndroidSocket', {});\n    this.addObjectListener('data', (data: Buffer) => this._dispatchEvent('data', { data }));\n    this.addObjectListener('close', () => {\n      this._dispatchEvent('close');\n      this._dispose();\n    });\n  }\n\n  async write(params: channels.AndroidSocketWriteParams, metadata: CallMetadata): Promise<void> {\n    await this._object.write(params.data);\n  }\n\n  async close(params: channels.AndroidSocketCloseParams, metadata: CallMetadata): Promise<void> {\n    this._object.close();\n  }\n}\n\nconst keyMap = new Map<string, number>([\n  ['Unknown', 0],\n  ['SoftLeft', 1],\n  ['SoftRight', 2],\n  ['Home', 3],\n  ['Back', 4],\n  ['Call', 5],\n  ['EndCall', 6],\n  ['0', 7],\n  ['1', 8],\n  ['2', 9],\n  ['3', 10],\n  ['4', 11],\n  ['5', 12],\n  ['6', 13],\n  ['7', 14],\n  ['8', 15],\n  ['9', 16],\n  ['Star', 17],\n  ['*', 17],\n  ['Pound', 18],\n  ['#', 18],\n  ['DialUp', 19],\n  ['DialDown', 20],\n  ['DialLeft', 21],\n  ['DialRight', 22],\n  ['DialCenter', 23],\n  ['VolumeUp', 24],\n  ['VolumeDown', 25],\n  ['Power', 26],\n  ['Camera', 27],\n  ['Clear', 28],\n  ['A', 29],\n  ['B', 30],\n  ['C', 31],\n  ['D', 32],\n  ['E', 33],\n  ['F', 34],\n  ['G', 35],\n  ['H', 36],\n  ['I', 37],\n  ['J', 38],\n  ['K', 39],\n  ['L', 40],\n  ['M', 41],\n  ['N', 42],\n  ['O', 43],\n  ['P', 44],\n  ['Q', 45],\n  ['R', 46],\n  ['S', 47],\n  ['T', 48],\n  ['U', 49],\n  ['V', 50],\n  ['W', 51],\n  ['X', 52],\n  ['Y', 53],\n  ['Z', 54],\n  ['Comma', 55],\n  [',', 55],\n  ['Period', 56],\n  ['.', 56],\n  ['AltLeft', 57],\n  ['AltRight', 58],\n  ['ShiftLeft', 59],\n  ['ShiftRight', 60],\n  ['Tab', 61],\n  ['\\t', 61],\n  ['Space', 62],\n  [' ', 62],\n  ['Sym', 63],\n  ['Explorer', 64],\n  ['Envelop', 65],\n  ['Enter', 66],\n  ['Del', 67],\n  ['Grave', 68],\n  ['Minus', 69],\n  ['-', 69],\n  ['Equals', 70],\n  ['=', 70],\n  ['LeftBracket', 71],\n  ['(', 71],\n  ['RightBracket', 72],\n  [')', 72],\n  ['Backslash', 73],\n  ['\\\\', 73],\n  ['Semicolon', 74],\n  [';', 74],\n  ['Apostrophe', 75],\n  ['`', 75],\n  ['Slash', 76],\n  ['/', 76],\n  ['At', 77],\n  ['@', 77],\n  ['Num', 78],\n  ['HeadsetHook', 79],\n  ['Focus', 80],\n  ['Plus', 81],\n  ['Menu', 82],\n  ['Notification', 83],\n  ['Search', 84],\n  ['ChannelUp', 166],\n  ['ChannelDown', 167],\n  ['AppSwitch', 187],\n  ['Assist', 219],\n  ['Cut', 277],\n  ['Copy', 278],\n  ['Paste', 279],\n]);\n"],"mappings":"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"}