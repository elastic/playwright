{"version":3,"file":"dialogDispatcher.js","names":["_dispatcher","require","_pageDispatcher","DialogDispatcher","Dispatcher","constructor","scope","dialog","page","PageDispatcher","fromNullable","initializedOrUndefined","type","message","defaultValue","_type_Dialog","accept","params","_object","promptText","dismiss","exports"],"sources":["../../../src/server/dispatchers/dialogDispatcher.ts"],"sourcesContent":["/**\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { Dialog } from '../dialog';\nimport type * as channels from '@protocol/channels';\nimport { Dispatcher } from './dispatcher';\nimport { PageDispatcher } from './pageDispatcher';\nimport type { BrowserContextDispatcher } from './browserContextDispatcher';\n\nexport class DialogDispatcher extends Dispatcher<Dialog, channels.DialogChannel, BrowserContextDispatcher | PageDispatcher> implements channels.DialogChannel {\n  _type_Dialog = true;\n\n  constructor(scope: BrowserContextDispatcher, dialog: Dialog) {\n    const page = PageDispatcher.fromNullable(scope, dialog.page().initializedOrUndefined());\n    // Prefer scoping to the page, unless we don't have one.\n    super(page || scope, dialog, 'Dialog', {\n      page,\n      type: dialog.type(),\n      message: dialog.message(),\n      defaultValue: dialog.defaultValue(),\n    });\n  }\n\n  async accept(params: { promptText?: string }): Promise<void> {\n    await this._object.accept(params.promptText);\n  }\n\n  async dismiss(): Promise<void> {\n    await this._object.dismiss();\n  }\n}\n"],"mappings":";;;;;;AAkBA,IAAAA,WAAA,GAAAC,OAAA;AACA,IAAAC,eAAA,GAAAD,OAAA;AAnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAQO,MAAME,gBAAgB,SAASC,sBAAU,CAA8G;EAG5JC,WAAWA,CAACC,KAA+B,EAAEC,MAAc,EAAE;IAC3D,MAAMC,IAAI,GAAGC,8BAAc,CAACC,YAAY,CAACJ,KAAK,EAAEC,MAAM,CAACC,IAAI,CAAC,CAAC,CAACG,sBAAsB,CAAC,CAAC,CAAC;IACvF;IACA,KAAK,CAACH,IAAI,IAAIF,KAAK,EAAEC,MAAM,EAAE,QAAQ,EAAE;MACrCC,IAAI;MACJI,IAAI,EAAEL,MAAM,CAACK,IAAI,CAAC,CAAC;MACnBC,OAAO,EAAEN,MAAM,CAACM,OAAO,CAAC,CAAC;MACzBC,YAAY,EAAEP,MAAM,CAACO,YAAY,CAAC;IACpC,CAAC,CAAC;IAAC,KAVLC,YAAY,GAAG,IAAI;EAWnB;EAEA,MAAMC,MAAMA,CAACC,MAA+B,EAAiB;IAC3D,MAAM,IAAI,CAACC,OAAO,CAACF,MAAM,CAACC,MAAM,CAACE,UAAU,CAAC;EAC9C;EAEA,MAAMC,OAAOA,CAAA,EAAkB;IAC7B,MAAM,IAAI,CAACF,OAAO,CAACE,OAAO,CAAC,CAAC;EAC9B;AACF;AAACC,OAAA,CAAAlB,gBAAA,GAAAA,gBAAA"}