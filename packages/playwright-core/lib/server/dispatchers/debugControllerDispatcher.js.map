{"version":3,"file":"debugControllerDispatcher.js","names":["_utils","require","_debugController","_dispatcher","DebugControllerDispatcher","Dispatcher","constructor","connection","debugController","_type_DebugController","_listeners","eventsHelper","addEventListener","_object","DebugController","Events","StateChanged","params","_dispatchEvent","InspectRequested","selector","locator","SourceChanged","text","header","footer","actions","Paused","paused","SetModeRequested","mode","initialize","codegenId","sdkLanguage","setReportStateChanged","enabled","resetForReuse","navigate","url","setRecorderMode","highlight","hideHighlight","resume","kill","closeAllBrowsers","_onDispose","removeEventListeners","dispose","exports"],"sources":["../../../src/server/dispatchers/debugControllerDispatcher.ts"],"sourcesContent":["/**\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type * as channels from '@protocol/channels';\nimport { eventsHelper } from '../../utils';\nimport type { RegisteredListener } from '../../utils/eventsHelper';\nimport { DebugController } from '../debugController';\nimport type { DispatcherConnection, RootDispatcher } from './dispatcher';\nimport { Dispatcher } from './dispatcher';\n\nexport class DebugControllerDispatcher extends Dispatcher<DebugController, channels.DebugControllerChannel, RootDispatcher> implements channels.DebugControllerChannel {\n  _type_DebugController;\n  private _listeners: RegisteredListener[];\n\n  constructor(connection: DispatcherConnection, debugController: DebugController) {\n    super(connection, debugController, 'DebugController', {});\n    this._type_DebugController = true;\n    this._listeners = [\n      eventsHelper.addEventListener(this._object, DebugController.Events.StateChanged, params => {\n        this._dispatchEvent('stateChanged', params);\n      }),\n      eventsHelper.addEventListener(this._object, DebugController.Events.InspectRequested, ({ selector, locator }) => {\n        this._dispatchEvent('inspectRequested', { selector, locator });\n      }),\n      eventsHelper.addEventListener(this._object, DebugController.Events.SourceChanged, ({ text, header, footer, actions }) => {\n        this._dispatchEvent('sourceChanged', ({ text, header, footer, actions }));\n      }),\n      eventsHelper.addEventListener(this._object, DebugController.Events.Paused, ({ paused }) => {\n        this._dispatchEvent('paused', ({ paused }));\n      }),\n      eventsHelper.addEventListener(this._object, DebugController.Events.SetModeRequested, ({ mode }) => {\n        this._dispatchEvent('setModeRequested', ({ mode }));\n      }),\n    ];\n  }\n\n  async initialize(params: channels.DebugControllerInitializeParams) {\n    this._object.initialize(params.codegenId, params.sdkLanguage);\n  }\n\n  async setReportStateChanged(params: channels.DebugControllerSetReportStateChangedParams) {\n    this._object.setReportStateChanged(params.enabled);\n  }\n\n  async resetForReuse() {\n    await this._object.resetForReuse();\n  }\n\n  async navigate(params: channels.DebugControllerNavigateParams) {\n    await this._object.navigate(params.url);\n  }\n\n  async setRecorderMode(params: channels.DebugControllerSetRecorderModeParams) {\n    await this._object.setRecorderMode(params);\n  }\n\n  async highlight(params: channels.DebugControllerHighlightParams) {\n    await this._object.highlight(params.selector);\n  }\n\n  async hideHighlight() {\n    await this._object.hideHighlight();\n  }\n\n  async resume() {\n    await this._object.resume();\n  }\n\n  async kill() {\n    await this._object.kill();\n  }\n\n  async closeAllBrowsers() {\n    await this._object.closeAllBrowsers();\n  }\n\n  override _onDispose() {\n    eventsHelper.removeEventListeners(this._listeners);\n    this._object.dispose();\n  }\n}\n"],"mappings":"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"}