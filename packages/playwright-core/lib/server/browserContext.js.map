{"version":3,"file":"browserContext.js","names":["_timeoutSettings","require","_utils","_fileUtils","_helper","network","_interopRequireWildcard","_page6","_path","_interopRequireDefault","_fs","_instrumentation","_debugger","_tracing","_harRecorder","_recorder","consoleApiSource","_fetch","_clock","_socksClientCertificatesInterceptor","_recorderApp","obj","__esModule","default","_getRequireWildcardCache","e","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","BrowserContext","SdkObject","constructor","browser","options","browserContextId","TimeoutSettings","_pageBindings","Map","_activeProgressControllers","Set","_options","_requestInterceptor","_isPersistentContext","_closedStatus","_closePromise","_closePromiseFulfill","_permissions","_downloads","_browser","_browserContextId","_selectors","_origins","_harRecorders","tracing","fetchRequest","_customCloseHandler","_tempDirs","_settingStorageState","initScripts","_routesInFlight","_closeReason","clock","_clientCertificatesProxy","attribution","context","Promise","fulfill","BrowserContextAPIRequestContext","recordHar","HarRecorder","Tracing","tracesDir","Clock","isPersistentContext","setSelectors","selectors","playwright","_initialize","isInternalPlaywright","Debugger","debugMode","Recorder","show","RecorderApp","factory","pauseOnNextStatement","isPaused","showInspector","on","Events","PausedStateChanged","extendInjectedScript","source","serviceWorkers","addInitScript","permissions","grantPermissions","debugger","_ensureVideosPath","recordVideo","mkdirIfNeeded","path","join","dir","canResetForReuse","stopPendingOperations","reason","controller","abort","Error","f","setTimeout","reusableContextHash","params","paramsCopy","k","keys","key","defaultNewContextParamValues","paramsThatAllowContextReuse","JSON","stringify","resetForReuse","metadata","_page","_page2","_page3","_page4","_page5","setDefaultNavigationTimeout","undefined","setDefaultTimeout","_cancelAllRoutesInFlight","page","pages","otherPages","p","close","hasCrashed","_frameManager","setCloseAllOpeningDialogs","closeOpenDialogs","mainFrame","goto","timeout","_resetStorage","_removeExposedBindings","_removeInitScripts","markAsUninstalled","clearPermissions","setExtraHTTPHeaders","extraHTTPHeaders","setGeolocation","geolocation","setOffline","offline","setUserAgent","userAgent","clearCache","_resetCookies","_browserClosed","_didClose","_didCloseInternal","_this$_clientCertific","catch","onClosePersistent","emit","Close","cookies","urls","Array","isArray","doGetCookies","clearCookies","currentCookies","doClearCookies","matches","cookie","prop","value","RegExp","lastIndex","test","cookiesToReadd","filter","name","domain","addCookies","setHTTPCredentials","httpCredentials","doSetHTTPCredentials","exposeBinding","needsHandle","playwrightBinding","getBinding","binding","PageBinding","doAddInitScript","initScript","frames","map","flat","all","frame","evaluateExpression","internal","delete","origin","resolvedOrigin","url","URL","existing","forEach","add","list","values","doGrantPermissions","clear","doClearPermissions","_loadDefaultContextAsIs","progress","length","waitForEvent","helper","Page","cleanupWhenAborted","dispose","promise","_pageIsError","_waitForLoadState","_loadDefaultContext","browserName","isMobile","locale","oldPage","newPage","_authenticateProxyViaHeader","proxy","username","password","token","Buffer","from","toString","mergeHeaders","singleHeader","_authenticateProxyViaCredentials","InitScript","push","script","doRemoveNonInternalInitScripts","setRequestInterceptor","handler","doUpdateRequestInterception","isClosingOrClosed","_deleteAllDownloads","download","artifact","deleteOnContextClose","_deleteAllTempDirs","fs","promises","unlink","setCustomCloseHandler","BeforeClose","harRecorder","flush","_idToVideo","finishedPromise","doClose","pageDelegate","newPageDelegate","isServerSide","potentiallyUninitializedPage","markAsServerSideOnly","pageOrError","isClosed","addVisitedOrigin","storageState","result","origins","originsToSave","storage","nonStallingEvaluateInExistingContext","localStorage","size","internalMetadata","serverSideCallMetadata","_setServerRequestInterceptor","body","requestUrl","request","originStorage","world","_this$_options$storag","oldOrigins","newOrigins","resetStorageForCurrentOriginBestEffort","_this$_options$storag2","_this$_options$storag3","isSettingStorageState","setStorageState","state","originState","isFunction","arg","installInFrame","installInPage","InternalFrameNavigatedToNewDocument","safeNonStallingEvaluateInAllFrames","expression","_harStart","harId","createGuid","_harExport","recorder","export","addRouteInFlight","route","removeRouteInFlight","exports","Console","Dialog","PageError","Request","Response","RequestFailed","RequestFinished","RequestAborted","RequestFulfilled","RequestContinued","VideoStarted","assertBrowserContextIsNotOwned","_ownedContext","createClientCertificatesProxyIfNeeded","browserOptions","_options$clientCertif","_options$proxy","_options$proxy2","_browserOptions$proxy","_browserOptions$proxy2","clientCertificates","server","verifyClientCertificates","clientCertificatesProxy","ClientCertificatesProxy","listen","ignoreHTTPSErrors","validateBrowserContextOptions","noDefaultViewport","deviceScaleFactor","acceptDownloads","viewport","width","height","scale","Math","min","max","floor","normalizeProxySettings","verifyGeolocation","accuracy","longitude","latitude","cert","passphrase","pfx","bypass","host","protocol","split","trim","javaScriptEnabled","bypassCSP","hasTouch","strictSelectors"],"sources":["../../src/server/browserContext.ts"],"sourcesContent":["/**\n * Copyright 2017 Google Inc. All rights reserved.\n * Modifications copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { TimeoutSettings } from '../common/timeoutSettings';\nimport { createGuid, debugMode } from '../utils';\nimport { mkdirIfNeeded } from '../utils/fileUtils';\nimport type { Browser, BrowserOptions } from './browser';\nimport type { Download } from './download';\nimport type * as frames from './frames';\nimport { helper } from './helper';\nimport * as network from './network';\nimport { InitScript } from './page';\nimport type { PageDelegate } from './page';\nimport { Page, PageBinding } from './page';\nimport type { Progress, ProgressController } from './progress';\nimport type { Selectors } from './selectors';\nimport type * as types from './types';\nimport type * as channels from '@protocol/channels';\nimport path from 'path';\nimport fs from 'fs';\nimport type { CallMetadata } from './instrumentation';\nimport { serverSideCallMetadata, SdkObject } from './instrumentation';\nimport { Debugger } from './debugger';\nimport { Tracing } from './trace/recorder/tracing';\nimport { HarRecorder } from './har/harRecorder';\nimport { Recorder } from './recorder';\nimport * as consoleApiSource from '../generated/consoleApiSource';\nimport { BrowserContextAPIRequestContext } from './fetch';\nimport type { Artifact } from './artifact';\nimport { Clock } from './clock';\nimport { ClientCertificatesProxy } from './socksClientCertificatesInterceptor';\nimport { RecorderApp } from './recorder/recorderApp';\n\nexport abstract class BrowserContext extends SdkObject {\n  static Events = {\n    Console: 'console',\n    Close: 'close',\n    Dialog: 'dialog',\n    Page: 'page',\n    // Can't use just 'error' due to node.js special treatment of error events.\n    // @see https://nodejs.org/api/events.html#events_error_events\n    PageError: 'pageerror',\n    Request: 'request',\n    Response: 'response',\n    RequestFailed: 'requestfailed',\n    RequestFinished: 'requestfinished',\n    RequestAborted: 'requestaborted',\n    RequestFulfilled: 'requestfulfilled',\n    RequestContinued: 'requestcontinued',\n    BeforeClose: 'beforeclose',\n    VideoStarted: 'videostarted',\n  };\n\n  readonly _timeoutSettings = new TimeoutSettings();\n  readonly _pageBindings = new Map<string, PageBinding>();\n  readonly _activeProgressControllers = new Set<ProgressController>();\n  readonly _options: channels.BrowserNewContextParams;\n  _requestInterceptor?: network.RouteHandler;\n  private _isPersistentContext: boolean;\n  private _closedStatus: 'open' | 'closing' | 'closed' = 'open';\n  readonly _closePromise: Promise<Error>;\n  private _closePromiseFulfill: ((error: Error) => void) | undefined;\n  readonly _permissions = new Map<string, string[]>();\n  readonly _downloads = new Set<Download>();\n  readonly _browser: Browser;\n  readonly _browserContextId: string | undefined;\n  private _selectors?: Selectors;\n  private _origins = new Set<string>();\n  readonly _harRecorders = new Map<string, HarRecorder>();\n  readonly tracing: Tracing;\n  readonly fetchRequest: BrowserContextAPIRequestContext;\n  private _customCloseHandler?: () => Promise<any>;\n  readonly _tempDirs: string[] = [];\n  private _settingStorageState = false;\n  initScripts: InitScript[] = [];\n  private _routesInFlight = new Set<network.Route>();\n  private _debugger!: Debugger;\n  _closeReason: string | undefined;\n  readonly clock: Clock;\n  _clientCertificatesProxy: ClientCertificatesProxy | undefined;\n\n  constructor(browser: Browser, options: channels.BrowserNewContextParams, browserContextId: string | undefined) {\n    super(browser, 'browser-context');\n    this.attribution.context = this;\n    this._browser = browser;\n    this._options = options;\n    this._browserContextId = browserContextId;\n    this._isPersistentContext = !browserContextId;\n    this._closePromise = new Promise(fulfill => this._closePromiseFulfill = fulfill);\n\n    this.fetchRequest = new BrowserContextAPIRequestContext(this);\n\n    if (this._options.recordHar)\n      this._harRecorders.set('', new HarRecorder(this, null, this._options.recordHar));\n\n    this.tracing = new Tracing(this, browser.options.tracesDir);\n    this.clock = new Clock(this);\n  }\n\n  isPersistentContext(): boolean {\n    return this._isPersistentContext;\n  }\n\n  setSelectors(selectors: Selectors) {\n    this._selectors = selectors;\n  }\n\n  selectors(): Selectors {\n    return this._selectors || this.attribution.playwright.selectors;\n  }\n\n  async _initialize() {\n    if (this.attribution.playwright.options.isInternalPlaywright)\n      return;\n    // Debugger will pause execution upon page.pause in headed mode.\n    this._debugger = new Debugger(this);\n\n    // When PWDEBUG=1, show inspector for each context.\n    if (debugMode() === 'inspector')\n      await Recorder.show(this, RecorderApp.factory(this), { pauseOnNextStatement: true });\n\n    // When paused, show inspector.\n    if (this._debugger.isPaused())\n      Recorder.showInspector(this, RecorderApp.factory(this));\n\n    this._debugger.on(Debugger.Events.PausedStateChanged, () => {\n      if (this._debugger.isPaused())\n        Recorder.showInspector(this, RecorderApp.factory(this));\n    });\n\n    if (debugMode() === 'console')\n      await this.extendInjectedScript(consoleApiSource.source);\n    if (this._options.serviceWorkers === 'block')\n      await this.addInitScript(`\\nif (navigator.serviceWorker) navigator.serviceWorker.register = async () => { console.warn('Service Worker registration blocked by Playwright'); };\\n`);\n\n    if (this._options.permissions)\n      await this.grantPermissions(this._options.permissions);\n  }\n\n  debugger(): Debugger {\n    return this._debugger;\n  }\n\n  async _ensureVideosPath() {\n    if (this._options.recordVideo)\n      await mkdirIfNeeded(path.join(this._options.recordVideo.dir, 'dummy'));\n  }\n\n  canResetForReuse(): boolean {\n    if (this._closedStatus !== 'open')\n      return false;\n    return true;\n  }\n\n  async stopPendingOperations(reason: string) {\n    // When using context reuse, stop pending operations to gracefully terminate all the actions\n    // with a user-friendly error message containing operation log.\n    for (const controller of this._activeProgressControllers)\n      controller.abort(new Error(reason));\n    // Let rejections in microtask generate events before returning.\n    await new Promise(f => setTimeout(f, 0));\n  }\n\n  static reusableContextHash(params: channels.BrowserNewContextForReuseParams): string {\n    const paramsCopy = { ...params };\n\n    for (const k of Object.keys(paramsCopy)) {\n      const key = k as keyof channels.BrowserNewContextForReuseParams;\n      if (paramsCopy[key] === defaultNewContextParamValues[key])\n        delete paramsCopy[key];\n    }\n\n    for (const key of paramsThatAllowContextReuse)\n      delete paramsCopy[key];\n    return JSON.stringify(paramsCopy);\n  }\n\n  async resetForReuse(metadata: CallMetadata, params: channels.BrowserNewContextForReuseParams | null) {\n    this.setDefaultNavigationTimeout(undefined);\n    this.setDefaultTimeout(undefined);\n    this.tracing.resetForReuse();\n\n    if (params) {\n      for (const key of paramsThatAllowContextReuse)\n        (this._options as any)[key] = params[key];\n    }\n\n    await this._cancelAllRoutesInFlight();\n\n    // Close extra pages early.\n    let page: Page | undefined = this.pages()[0];\n    const [, ...otherPages] = this.pages();\n    for (const p of otherPages)\n      await p.close(metadata);\n    if (page && page.hasCrashed()) {\n      await page.close(metadata);\n      page = undefined;\n    }\n\n    // Unless dialogs are dismissed, setting extra http headers below does not respond.\n    page?._frameManager.setCloseAllOpeningDialogs(true);\n    await page?._frameManager.closeOpenDialogs();\n    // Navigate to about:blank first to ensure no page scripts are running after this point.\n    await page?.mainFrame().goto(metadata, 'about:blank', { timeout: 0 });\n    page?._frameManager.setCloseAllOpeningDialogs(false);\n\n    await this._resetStorage();\n    await this._removeExposedBindings();\n    await this._removeInitScripts();\n    this.clock.markAsUninstalled();\n    // TODO: following can be optimized to not perform noops.\n    if (this._options.permissions)\n      await this.grantPermissions(this._options.permissions);\n    else\n      await this.clearPermissions();\n    await this.setExtraHTTPHeaders(this._options.extraHTTPHeaders || []);\n    await this.setGeolocation(this._options.geolocation);\n    await this.setOffline(!!this._options.offline);\n    await this.setUserAgent(this._options.userAgent);\n    await this.clearCache();\n    await this._resetCookies();\n\n    await page?.resetForReuse(metadata);\n  }\n\n  _browserClosed() {\n    for (const page of this.pages())\n      page._didClose();\n    this._didCloseInternal();\n  }\n\n  private _didCloseInternal() {\n    if (this._closedStatus === 'closed') {\n      // We can come here twice if we close browser context and browser\n      // at the same time.\n      return;\n    }\n    this._clientCertificatesProxy?.close().catch(() => {});\n    this.tracing.abort();\n    if (this._isPersistentContext)\n      this.onClosePersistent();\n    this._closePromiseFulfill!(new Error('Context closed'));\n    this.emit(BrowserContext.Events.Close);\n  }\n\n  // BrowserContext methods.\n  abstract pages(): Page[];\n  abstract newPageDelegate(): Promise<PageDelegate>;\n  abstract addCookies(cookies: channels.SetNetworkCookie[]): Promise<void>;\n  abstract setGeolocation(geolocation?: types.Geolocation): Promise<void>;\n  abstract setExtraHTTPHeaders(headers: types.HeadersArray): Promise<void>;\n  abstract setUserAgent(userAgent: string | undefined): Promise<void>;\n  abstract setOffline(offline: boolean): Promise<void>;\n  abstract cancelDownload(uuid: string): Promise<void>;\n  abstract clearCache(): Promise<void>;\n  protected abstract doGetCookies(urls: string[]): Promise<channels.NetworkCookie[]>;\n  protected abstract doClearCookies(): Promise<void>;\n  protected abstract doGrantPermissions(origin: string, permissions: string[]): Promise<void>;\n  protected abstract doClearPermissions(): Promise<void>;\n  protected abstract doSetHTTPCredentials(httpCredentials?: types.Credentials): Promise<void>;\n  protected abstract doAddInitScript(initScript: InitScript): Promise<void>;\n  protected abstract doRemoveNonInternalInitScripts(): Promise<void>;\n  protected abstract doUpdateRequestInterception(): Promise<void>;\n  protected abstract doClose(reason: string | undefined): Promise<void>;\n  protected abstract onClosePersistent(): void;\n\n  async cookies(urls: string | string[] | undefined = []): Promise<channels.NetworkCookie[]> {\n    if (urls && !Array.isArray(urls))\n      urls = [urls];\n    return await this.doGetCookies(urls as string[]);\n  }\n\n  async clearCookies(options: {name?: string | RegExp, domain?: string | RegExp, path?: string | RegExp}): Promise<void> {\n    const currentCookies = await this.cookies();\n    await this.doClearCookies();\n\n    const matches = (cookie: channels.NetworkCookie, prop: 'name' | 'domain' | 'path', value: string | RegExp | undefined) => {\n      if (!value)\n        return true;\n      if (value instanceof RegExp) {\n        value.lastIndex = 0;\n        return value.test(cookie[prop]);\n      }\n      return cookie[prop] === value;\n    };\n\n    const cookiesToReadd = currentCookies.filter(cookie => {\n      return !matches(cookie, 'name', options.name)\n        || !matches(cookie, 'domain', options.domain)\n        || !matches(cookie, 'path', options.path);\n    });\n\n    await this.addCookies(cookiesToReadd);\n  }\n\n  setHTTPCredentials(httpCredentials?: types.Credentials): Promise<void> {\n    return this.doSetHTTPCredentials(httpCredentials);\n  }\n\n  async exposeBinding(name: string, needsHandle: boolean, playwrightBinding: frames.FunctionWithSource): Promise<void> {\n    if (this._pageBindings.has(name))\n      throw new Error(`Function \"${name}\" has been already registered`);\n    for (const page of this.pages()) {\n      if (page.getBinding(name))\n        throw new Error(`Function \"${name}\" has been already registered in one of the pages`);\n    }\n    const binding = new PageBinding(name, playwrightBinding, needsHandle);\n    this._pageBindings.set(name, binding);\n    await this.doAddInitScript(binding.initScript);\n    const frames = this.pages().map(page => page.frames()).flat();\n    await Promise.all(frames.map(frame => frame.evaluateExpression(binding.initScript.source).catch(e => {})));\n  }\n\n  async _removeExposedBindings() {\n    for (const [key, binding] of this._pageBindings) {\n      if (!binding.internal)\n        this._pageBindings.delete(key);\n    }\n  }\n\n  async grantPermissions(permissions: string[], origin?: string) {\n    let resolvedOrigin = '*';\n    if (origin) {\n      const url = new URL(origin);\n      resolvedOrigin = url.origin;\n    }\n    const existing = new Set(this._permissions.get(resolvedOrigin) || []);\n    permissions.forEach(p => existing.add(p));\n    const list = [...existing.values()];\n    this._permissions.set(resolvedOrigin, list);\n    await this.doGrantPermissions(resolvedOrigin, list);\n  }\n\n  async clearPermissions() {\n    this._permissions.clear();\n    await this.doClearPermissions();\n  }\n\n  setDefaultNavigationTimeout(timeout: number | undefined) {\n    this._timeoutSettings.setDefaultNavigationTimeout(timeout);\n  }\n\n  setDefaultTimeout(timeout: number | undefined) {\n    this._timeoutSettings.setDefaultTimeout(timeout);\n  }\n\n  async _loadDefaultContextAsIs(progress: Progress): Promise<Page[]> {\n    if (!this.pages().length) {\n      const waitForEvent = helper.waitForEvent(progress, this, BrowserContext.Events.Page);\n      progress.cleanupWhenAborted(() => waitForEvent.dispose);\n      const page = (await waitForEvent.promise) as Page;\n      if (page._pageIsError)\n        throw page._pageIsError;\n    }\n    const pages = this.pages();\n    if (pages[0]._pageIsError)\n      throw pages[0]._pageIsError;\n    await pages[0].mainFrame()._waitForLoadState(progress, 'load');\n    return pages;\n  }\n\n  async _loadDefaultContext(progress: Progress) {\n    const pages = await this._loadDefaultContextAsIs(progress);\n    const browserName = this._browser.options.name;\n    if ((this._options.isMobile && browserName === 'chromium') || (this._options.locale && browserName === 'webkit')) {\n      // Workaround for:\n      // - chromium fails to change isMobile for existing page;\n      // - webkit fails to change locale for existing page.\n      const oldPage = pages[0];\n      await this.newPage(progress.metadata);\n      await oldPage.close(progress.metadata);\n    }\n  }\n\n  protected _authenticateProxyViaHeader() {\n    const proxy = this._options.proxy || this._browser.options.proxy || { username: undefined, password: undefined };\n    const { username, password } = proxy;\n    if (username) {\n      this._options.httpCredentials = { username, password: password! };\n      const token = Buffer.from(`${username}:${password}`).toString('base64');\n      this._options.extraHTTPHeaders = network.mergeHeaders([\n        this._options.extraHTTPHeaders,\n        network.singleHeader('Proxy-Authorization', `Basic ${token}`),\n      ]);\n    }\n  }\n\n  protected _authenticateProxyViaCredentials() {\n    const proxy = this._options.proxy || this._browser.options.proxy;\n    if (!proxy)\n      return;\n    const { username, password } = proxy;\n    if (username)\n      this._options.httpCredentials = { username, password: password || '' };\n  }\n\n  async addInitScript(source: string) {\n    const initScript = new InitScript(source);\n    this.initScripts.push(initScript);\n    await this.doAddInitScript(initScript);\n  }\n\n  async _removeInitScripts(): Promise<void> {\n    this.initScripts = this.initScripts.filter(script => script.internal);\n    await this.doRemoveNonInternalInitScripts();\n  }\n\n  async setRequestInterceptor(handler: network.RouteHandler | undefined): Promise<void> {\n    this._requestInterceptor = handler;\n    await this.doUpdateRequestInterception();\n  }\n\n  isClosingOrClosed() {\n    return this._closedStatus !== 'open';\n  }\n\n  private async _deleteAllDownloads(): Promise<void> {\n    await Promise.all(Array.from(this._downloads).map(download => download.artifact.deleteOnContextClose()));\n  }\n\n  private async _deleteAllTempDirs(): Promise<void> {\n    await Promise.all(this._tempDirs.map(async dir => await fs.promises.unlink(dir).catch(e => {})));\n  }\n\n  setCustomCloseHandler(handler: (() => Promise<any>) | undefined) {\n    this._customCloseHandler = handler;\n  }\n\n  async close(options: { reason?: string }) {\n    if (this._closedStatus === 'open') {\n      if (options.reason)\n        this._closeReason = options.reason;\n      this.emit(BrowserContext.Events.BeforeClose);\n      this._closedStatus = 'closing';\n\n      for (const harRecorder of this._harRecorders.values())\n        await harRecorder.flush();\n      await this.tracing.flush();\n\n      // Cleanup.\n      const promises: Promise<void>[] = [];\n      for (const { context, artifact } of this._browser._idToVideo.values()) {\n        // Wait for the videos to finish.\n        if (context === this)\n          promises.push(artifact.finishedPromise());\n      }\n\n      if (this._customCloseHandler) {\n        await this._customCloseHandler();\n      } else {\n        // Close the context.\n        await this.doClose(options.reason);\n      }\n\n      // We delete downloads after context closure\n      // so that browser does not write to the download file anymore.\n      promises.push(this._deleteAllDownloads());\n      promises.push(this._deleteAllTempDirs());\n      await Promise.all(promises);\n\n      // Custom handler should trigger didCloseInternal itself.\n      if (!this._customCloseHandler)\n        this._didCloseInternal();\n    }\n    await this._closePromise;\n  }\n\n  async newPage(metadata: CallMetadata): Promise<Page> {\n    const pageDelegate = await this.newPageDelegate();\n    if (metadata.isServerSide)\n      pageDelegate.potentiallyUninitializedPage().markAsServerSideOnly();\n    const pageOrError = await pageDelegate.pageOrError();\n    if (pageOrError instanceof Page) {\n      if (pageOrError.isClosed())\n        throw new Error('Page has been closed.');\n      return pageOrError;\n    }\n    throw pageOrError;\n  }\n\n  addVisitedOrigin(origin: string) {\n    this._origins.add(origin);\n  }\n\n  async storageState(): Promise<channels.BrowserContextStorageStateResult> {\n    const result: channels.BrowserContextStorageStateResult = {\n      cookies: await this.cookies(),\n      origins: []\n    };\n    const originsToSave = new Set(this._origins);\n\n    // First try collecting storage stage from existing pages.\n    for (const page of this.pages()) {\n      const origin = page.mainFrame().origin();\n      if (!origin || !originsToSave.has(origin))\n        continue;\n      try {\n        const storage = await page.mainFrame().nonStallingEvaluateInExistingContext(`({\n          localStorage: Object.keys(localStorage).map(name => ({ name, value: localStorage.getItem(name) })),\n        })`, 'utility');\n        if (storage.localStorage.length)\n          result.origins.push({ origin, localStorage: storage.localStorage } as channels.OriginStorage);\n        originsToSave.delete(origin);\n      } catch {\n        // When failed on the live page, we'll retry on the blank page below.\n      }\n    }\n\n    // If there are still origins to save, create a blank page to iterate over origins.\n    if (originsToSave.size)  {\n      const internalMetadata = serverSideCallMetadata();\n      const page = await this.newPage(internalMetadata);\n      await page._setServerRequestInterceptor(handler => {\n        handler.fulfill({ body: '<html></html>', requestUrl: handler.request().url() }).catch(() => {});\n        return true;\n      });\n      for (const origin of originsToSave) {\n        const originStorage: channels.OriginStorage = { origin, localStorage: [] };\n        const frame = page.mainFrame();\n        await frame.goto(internalMetadata, origin);\n        const storage = await frame.evaluateExpression(`({\n          localStorage: Object.keys(localStorage).map(name => ({ name, value: localStorage.getItem(name) })),\n        })`, { world: 'utility' });\n        originStorage.localStorage = storage.localStorage;\n        if (storage.localStorage.length)\n          result.origins.push(originStorage);\n      }\n      await page.close(internalMetadata);\n    }\n    return result;\n  }\n\n  async _resetStorage() {\n    const oldOrigins = this._origins;\n    const newOrigins = new Map(this._options.storageState?.origins?.map(p => [p.origin, p]) || []);\n    if (!oldOrigins.size && !newOrigins.size)\n      return;\n    let page = this.pages()[0];\n\n    const internalMetadata = serverSideCallMetadata();\n    page = page || await this.newPage({\n      ...internalMetadata,\n      // Do not mark this page as internal, because we will leave it for later reuse\n      // as a user-visible page.\n      isServerSide: false,\n    });\n    await page._setServerRequestInterceptor(handler => {\n      handler.fulfill({ body: '<html></html>', requestUrl: handler.request().url() }).catch(() => {});\n      return true;\n    });\n\n    for (const origin of new Set([...oldOrigins, ...newOrigins.keys()])) {\n      const frame = page.mainFrame();\n      await frame.goto(internalMetadata, origin);\n      await frame.resetStorageForCurrentOriginBestEffort(newOrigins.get(origin));\n    }\n\n    await page._setServerRequestInterceptor(undefined);\n\n    this._origins = new Set([...newOrigins.keys()]);\n    // It is safe to not restore the URL to about:blank since we are doing it in Page::resetForReuse.\n  }\n\n  async _resetCookies() {\n    await this.doClearCookies();\n    if (this._options.storageState?.cookies)\n      await this.addCookies(this._options.storageState?.cookies);\n  }\n\n  isSettingStorageState(): boolean {\n    return this._settingStorageState;\n  }\n\n  async setStorageState(metadata: CallMetadata, state: NonNullable<channels.BrowserNewContextParams['storageState']>) {\n    this._settingStorageState = true;\n    try {\n      if (state.cookies)\n        await this.addCookies(state.cookies);\n      if (state.origins && state.origins.length)  {\n        const internalMetadata = serverSideCallMetadata();\n        const page = await this.newPage(internalMetadata);\n        await page._setServerRequestInterceptor(handler => {\n          handler.fulfill({ body: '<html></html>', requestUrl: handler.request().url() }).catch(() => {});\n          return true;\n        });\n        for (const originState of state.origins) {\n          const frame = page.mainFrame();\n          await frame.goto(metadata, originState.origin);\n          await frame.evaluateExpression(`\n            originState => {\n              for (const { name, value } of (originState.localStorage || []))\n                localStorage.setItem(name, value);\n            }`, { isFunction: true, world: 'utility' }, originState);\n        }\n        await page.close(internalMetadata);\n      }\n    } finally {\n      this._settingStorageState = false;\n    }\n  }\n\n  async extendInjectedScript(source: string, arg?: any) {\n    const installInFrame = (frame: frames.Frame) => frame.extendInjectedScript(source, arg).catch(() => {});\n    const installInPage = (page: Page) => {\n      page.on(Page.Events.InternalFrameNavigatedToNewDocument, installInFrame);\n      return Promise.all(page.frames().map(installInFrame));\n    };\n    this.on(BrowserContext.Events.Page, installInPage);\n    return Promise.all(this.pages().map(installInPage));\n  }\n\n  async safeNonStallingEvaluateInAllFrames(expression: string, world: types.World, options: { throwOnJSErrors?: boolean } = {}) {\n    await Promise.all(this.pages().map(page => page.safeNonStallingEvaluateInAllFrames(expression, world, options)));\n  }\n\n  async _harStart(page: Page | null, options: channels.RecordHarOptions): Promise<string> {\n    const harId = createGuid();\n    this._harRecorders.set(harId, new HarRecorder(this, page, options));\n    return harId;\n  }\n\n  async _harExport(harId: string | undefined): Promise<Artifact> {\n    const recorder = this._harRecorders.get(harId || '')!;\n    return recorder.export();\n  }\n\n  addRouteInFlight(route: network.Route) {\n    this._routesInFlight.add(route);\n  }\n\n  removeRouteInFlight(route: network.Route) {\n    this._routesInFlight.delete(route);\n  }\n\n  async _cancelAllRoutesInFlight() {\n    await Promise.all([...this._routesInFlight].map(r => r.abort())).catch(() => {});\n    this._routesInFlight.clear();\n  }\n}\n\nexport function assertBrowserContextIsNotOwned(context: BrowserContext) {\n  for (const page of context.pages()) {\n    if (page._ownedContext)\n      throw new Error('Please use browser.newContext() for multi-page scripts that share the context.');\n  }\n}\n\nexport async function createClientCertificatesProxyIfNeeded(options: channels.BrowserNewContextOptions, browserOptions?: BrowserOptions) {\n  if (!options.clientCertificates?.length)\n    return;\n  if ((options.proxy?.server && options.proxy?.server !== 'per-context') || (browserOptions?.proxy?.server && browserOptions?.proxy?.server !== 'http://per-context'))\n    throw new Error('Cannot specify both proxy and clientCertificates');\n  verifyClientCertificates(options.clientCertificates);\n  const clientCertificatesProxy = new ClientCertificatesProxy(options);\n  options.proxy = { server: await clientCertificatesProxy.listen() };\n  options.ignoreHTTPSErrors = true;\n  return clientCertificatesProxy;\n}\n\nexport function validateBrowserContextOptions(options: channels.BrowserNewContextParams, browserOptions: BrowserOptions) {\n  if (options.noDefaultViewport && options.deviceScaleFactor !== undefined)\n    throw new Error(`\"deviceScaleFactor\" option is not supported with null \"viewport\"`);\n  if (options.noDefaultViewport && !!options.isMobile)\n    throw new Error(`\"isMobile\" option is not supported with null \"viewport\"`);\n  if (options.acceptDownloads === undefined && browserOptions.name !== 'electron')\n    options.acceptDownloads = 'accept';\n  // Electron requires explicit acceptDownloads: true since we wait for\n  // https://github.com/electron/electron/pull/41718 to be widely shipped.\n  // In 6-12 months, we can remove this check.\n  else if (options.acceptDownloads === undefined && browserOptions.name === 'electron')\n    options.acceptDownloads = 'internal-browser-default';\n  if (!options.viewport && !options.noDefaultViewport)\n    options.viewport = { width: 1280, height: 720 };\n  if (options.recordVideo) {\n    if (!options.recordVideo.size) {\n      if (options.noDefaultViewport) {\n        options.recordVideo.size = { width: 800, height: 600 };\n      } else {\n        const size = options.viewport!;\n        const scale = Math.min(1, 800 / Math.max(size.width, size.height));\n        options.recordVideo.size = {\n          width: Math.floor(size.width * scale),\n          height: Math.floor(size.height * scale)\n        };\n      }\n    }\n    // Make sure both dimensions are odd, this is required for vp8\n    options.recordVideo.size!.width &= ~1;\n    options.recordVideo.size!.height &= ~1;\n  }\n  if (options.proxy)\n    options.proxy = normalizeProxySettings(options.proxy);\n  verifyGeolocation(options.geolocation);\n}\n\nexport function verifyGeolocation(geolocation?: types.Geolocation) {\n  if (!geolocation)\n    return;\n  geolocation.accuracy = geolocation.accuracy || 0;\n  const { longitude, latitude, accuracy } = geolocation;\n  if (longitude < -180 || longitude > 180)\n    throw new Error(`geolocation.longitude: precondition -180 <= LONGITUDE <= 180 failed.`);\n  if (latitude < -90 || latitude > 90)\n    throw new Error(`geolocation.latitude: precondition -90 <= LATITUDE <= 90 failed.`);\n  if (accuracy < 0)\n    throw new Error(`geolocation.accuracy: precondition 0 <= ACCURACY failed.`);\n}\n\nexport function verifyClientCertificates(clientCertificates?: channels.BrowserNewContextParams['clientCertificates']) {\n  if (!clientCertificates)\n    return;\n  for (const cert of clientCertificates) {\n    if (!cert.origin)\n      throw new Error(`clientCertificates.origin is required`);\n    if (!cert.cert && !cert.key && !cert.passphrase && !cert.pfx)\n      throw new Error('None of cert, key, passphrase or pfx is specified');\n    if (cert.cert && !cert.key)\n      throw new Error('cert is specified without key');\n    if (!cert.cert && cert.key)\n      throw new Error('key is specified without cert');\n    if (cert.pfx && (cert.cert || cert.key))\n      throw new Error('pfx is specified together with cert, key or passphrase');\n  }\n}\n\nexport function normalizeProxySettings(proxy: types.ProxySettings): types.ProxySettings {\n  let { server, bypass } = proxy;\n  let url;\n  try {\n    // new URL('127.0.0.1:8080') throws\n    // new URL('localhost:8080') fails to parse host or protocol\n    // In both of these cases, we need to try re-parse URL with `http://` prefix.\n    url = new URL(server);\n    if (!url.host || !url.protocol)\n      url = new URL('http://' + server);\n  } catch (e) {\n    url = new URL('http://' + server);\n  }\n  if (url.protocol === 'socks4:' && (proxy.username || proxy.password))\n    throw new Error(`Socks4 proxy protocol does not support authentication`);\n  if (url.protocol === 'socks5:' && (proxy.username || proxy.password))\n    throw new Error(`Browser does not support socks5 proxy authentication`);\n  server = url.protocol + '//' + url.host;\n  if (bypass)\n    bypass = bypass.split(',').map(t => t.trim()).join(',');\n  return { ...proxy, server, bypass };\n}\n\nconst paramsThatAllowContextReuse: (keyof channels.BrowserNewContextForReuseParams)[] = [\n  'colorScheme',\n  'forcedColors',\n  'reducedMotion',\n  'screen',\n  'userAgent',\n  'viewport',\n];\n\nconst defaultNewContextParamValues: channels.BrowserNewContextForReuseParams = {\n  noDefaultViewport: false,\n  ignoreHTTPSErrors: false,\n  javaScriptEnabled: true,\n  bypassCSP: false,\n  offline: false,\n  isMobile: false,\n  hasTouch: false,\n  acceptDownloads: 'accept',\n  strictSelectors: false,\n  serviceWorkers: 'allow',\n  locale: 'en-US',\n};\n"],"mappings":"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"}